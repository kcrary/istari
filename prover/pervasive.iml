
structure Genesis =
   struct

      val genesis = Checkpoint.checkpoint ()

   end


structure Pervasive =
   struct

      type tactic = Tactic.tactic

      fun identity x = x
      val parseLTerm = identity
      val parseSub = identity
      val parseIdent = identity
      val parseLongident = identity
      val parseIdents = identity
      val parseOIdent = identity
      val parseIdentPat = identity
      val parseOIdents = identity
      val parseBinding = identity
      val parseBindings = identity
      val parseTerm = ETerm.closed
      val parseETerm = identity
      val parseLevel = identity
      val parseIntroPatternAtom = identity
      val parseIntroPattern = identity
      val parseIntroPatterns = identity
      val parseRewriteTarget = identity
      val parseTarget = identity
      val parseConstant = identity
      val parseConstants = identity
      val parseReducePattern = identity
      val parseDatatype = identity
      val parseRewrite = identity

      val ` = Symbol.fromValue

      val ibinds = Directory.ibinds

      val idtac = Tactic.idtac
      val idtacM = Tactic.idtacM
      val fail = Tactic.fail
      val done = Tactic.done
      val andthen = Tactic.andthen
      val andthenl = Tactic.andthenl
      val andthenlPad = Tactic.andthenlPad
      val andthenOn = Tactic.andthenOn
      val andthenM = Tactic.andthenM
      val andthenlM = Tactic.andthenlM
      val andthenlPadM = Tactic.andthenlPadM
      val andthenOnM = Tactic.andthenOnM
      val andthenFoldM = Tactic.andthenFoldM
      val attempt = Tactic.attempt
      val first = Tactic.first
      val repeat = Tactic.repeat
      val repeatn = Tactic.repeatn
      val withterm = Tactic.withterm
      val >> = Tactic.>>
      val >>> = Tactic.>>>
      val >>= = Tactic.>>=
      val >>>= = Tactic.>>>=

      val pull = Prover.pull
      val push = Prover.push
      val lemma = Prover.lemma
      val qed = Prover.qed
      val typechecker = Prover.typechecker
      val parseCurr = Prover.parseCurr

      open CasePervasive

      val typecheck = Typecheck.typecheck
      val withTypecheck = Typecheck.withTypecheck
      val withTypecheckSnd = Typecheck.withTypecheckSnd
      val inference = Typecheck.inference
      val typecheck1 = Typecheck.typecheck1
      val inferRaw = Typecheck.inferRaw
      val infer = Typecheck.infer
      val trivialize = Typecheck.trivialize
      val trivializeRaw = Typecheck.trivializeRaw

      val hyp = HypTactic.hyp
      val hypof = HypTactic.hypof
      val renamen = HypTactic.renamen
      val rename = HypTactic.rename
      val reintro = HypTactic.reintro
      val clearn = HypTactic.clearn
      val clear = HypTactic.clear
      val moven = HypTactic.moven
      val movePos = HypTactic.movePos
      val moveBefore = HypTactic.moveBefore
      val moveAfter = HypTactic.moveAfter
      val copy = HypTactic.copy
      val revert = HypTactic.revert
      val set = HypTactic.set
      val assumption = HypTactic.assumption
      val unhideRaw = HypTactic.unhideRaw
      val unhide = HypTactic.unhide

      val change = MiscTactic.change
      val exfalso = MiscTactic.exfalso
      val trustme = MiscTactic.trustme

      val destructRaw = Destruct.destructRaw
      val destruct = Destruct.destruct
      val destructnRaw = Destruct.destructnRaw
      val destructn = Destruct.destructn
      val destructSetRaw = Destruct.destructSetRaw
      val destructSet = Destruct.destructSet
      val assertRaw = Destruct.assertRaw
      val assert = Destruct.assert

      val introRaw = IntroTactic.introRaw
      val intro = IntroTactic.intro
      val split = IntroTactic.split
      val leftRaw = IntroTactic.leftRaw
      val left = IntroTactic.left
      val rightRaw = IntroTactic.rightRaw
      val right = IntroTactic.right
      val existsRaw = IntroTactic.existsRaw
      val exists = IntroTactic.exists
      val exactRaw = IntroTactic.exactRaw
      val exact = IntroTactic.exact
      val introOfRaw = IntroTactic.introOfRaw
      val introOf = IntroTactic.introOf

      val so = Backchain.so
      val soRaw = Backchain.soRaw
      val applyRaw = Backchain.applyRaw
      val apply = Backchain.apply
      val exploitRaw = Backchain.exploitRaw
      val exploit = Backchain.exploit
      val eexploitRaw = Backchain.eexploitRaw
      val eexploit = Backchain.eexploit
      val witnessRaw = Backchain.witnessRaw
      val witness = Backchain.witness

      val reflexivityRaw = EqualityTactic.reflexivityRaw
      val reflexivity = EqualityTactic.reflexivity
      val symmetryRaw = EqualityTactic.symmetryRaw
      val symmetry = EqualityTactic.symmetry
      val symmetryInRaw = EqualityTactic.symmetryInRaw
      val symmetryIn = EqualityTactic.symmetryIn
      val transitivityRaw = EqualityTactic.transitivityRaw
      val transitivity = EqualityTactic.transitivity
      val etransitivity = EqualityTactic.etransitivity
      val compatRaw = EqualityTactic.compatRaw
      val compat = EqualityTactic.compat
      val decompEq = EqualityTactic.decompEq
      val extensionalityRaw = EqualityTactic.extensionalityRaw
      val extensionality = EqualityTactic.extensionality
      val extensionalityOfRaw = EqualityTactic.extensionalityOfRaw
      val extensionalityOf = EqualityTactic.extensionalityOf
      val substitutionRaw = EqualityTactic.substitutionRaw
      val substitution = EqualityTactic.substitution
      val substRaw = EqualityTactic.substRaw
      val subst = EqualityTactic.subst
      val injection = EqualityTactic.injection
      val injectionRaw = EqualityTactic.injectionRaw

      val subsume = SubtypeTactic.subsume
      val esubsume = SubtypeTactic.esubsume
      val eqtp = SubtypeTactic.eqtp
      val eeqtp = SubtypeTactic.eeqtp
      val forceExactRaw = SubtypeTactic.forceExactRaw
      val forceExact = SubtypeTactic.forceExact

      val generalizeAtRaw = Generalize.generalizeAtRaw
      val generalizeAt = Generalize.generalizeAt
      val generalizeRaw = Generalize.generalizeRaw
      val generalize = Generalize.generalize
      val rememberAtRaw = Generalize.rememberAtRaw
      val rememberAt = Generalize.rememberAt
      val rememberRaw = Generalize.rememberRaw
      val remember = Generalize.remember
      val setEqRaw = Generalize.setEqRaw
      val setEq = Generalize.setEq

      val rewriteRaw = Rewrite.rewriteRaw
      val rewrite = Rewrite.rewrite
      val testRewrite = Rewrite.testRewrite
      val showPosition = Rewrite.showPosition
      val convert = Rewrite.convert
      val convertHead = Rewrite.convertHead
      val fold = Rewrite.fold
      val convertFold = Rewrite.convertFold
      val unfold = Rewrite.unfold
      val unfoldHead = Rewrite.unfoldHead
      val roll = Rewrite.roll
      val convertRoll = Rewrite.convertRoll
      val unroll = Rewrite.unroll
      val unrollType = Rewrite.unrollType
      val unrollTypeUniv = Rewrite.unrollTypeUniv
      val reduceUsing = Rewrite.reduceUsing
      val unreduceUsing = Rewrite.unreduceUsing
      val convertUnreduceUsing = Rewrite.convertUnreduceUsing
      val reduce = Rewrite.reduce
      val whreduce = Rewrite.whreduce
      val reduceHard = Rewrite.reduceHard
      val whreduceHard = Rewrite.whreduceHard

      val inductRaw = Induction.inductRaw
      val induct = Induction.induct
      val inductMuUnivRaw = Induction.inductMuUnivRaw
      val inductMuUniv = Induction.inductMuUniv
      val iterateRaw = Induction.iterateRaw
      val iterate = Induction.iterate

      val defineRaw = Define.defineRaw
      val define = Define.define
      val definerecRaw = Define.definerecRaw
      val definerec = Define.definerec
      val recordTyping = Define.recordTyping
      val reductions = Define.reductions
      val makeReduction1 = Define.makeReduction1
      val makeReduction2 = Define.makeReduction2

      val typedefRaw = Datatype.typedefRaw
      val typedef = Datatype.typedef

      val destructThinRaw = Inversion.destructThinRaw
      val destructThin = Inversion.destructThin
      val inversionRaw = Inversion.inversionRaw
      val inversion = Inversion.inversion

      val auto = Autotactic.auto
      val nauto = Autotactic.nauto
      val autoWith = Autotactic.autoWith
      val nautoWith = Autotactic.nautoWith

   end


grammardef Pervasive

   include CasePervasive

   start parseLTerm LTerm
   start parseSub Sub
   start parseIdent Ident
   start parseLongident Longident
   start parseIdents Idents
   start parseOIdent OIdent
   start parseIdentPat IdentPat
   start parseOIdents OIdents
   start parseBinding Binding
   start parseBindings Bindings
   start parseTerm Term
   start parseETerm Term
   start parseLevel Level
   start parseIntroPatternAtom IntroPatternAtom
   start parseIntroPattern IntroPattern
   start parseIntroPatterns IntroPatterns
   start parseRewriteTarget RewriteTarget
   start parseTarget Target
   start parseConstant Constant
   start parseConstants Constants
   start parseReducePattern ReducePattern
   start parseDatatype Datatype
   start parseRewrite RewriteAims

   start ibinds _ OIdents

   start withterm Term

   start parseCurr Term

   start infer Term OIdent
   start inferRaw Term OIdent
   start inferUsingRaw Ident Term OIdent
   start inferUsing Ident Term OIdent

   start hyp Ident
   start reintro OIdents
   start clear Idents
   start renamen _ Ident
   start rename Ident Ident
   start movePos Idents
   start moveBefore Idents Ident
   start moveAfter Idents Ident
   start copy Ident OIdent
   start revert Idents
   start set Ident Term

   start change Ident Term

   start destructRaw Ident IntroPattern
   start destruct Ident IntroPattern
   start destructnRaw _ IntroPattern
   start destructn _ IntroPattern

   start introRaw IntroPatterns
   start intro IntroPatterns
   start existsRaw Term
   start exists Term
   start exactRaw Term
   start exact Term
   start introOfRaw IntroPatterns
   start introOf IntroPatterns

   start soRaw Term IntroPattern
   start so Term IntroPattern
   start applyRaw Term
   start apply Term
   start exploitRaw Term IntroPattern
   start exploit Term IntroPattern
   start eexploitRaw Term IntroPattern
   start eexploit Term IntroPattern
   start witnessRaw Term
   start witness Term
   start destructSetRaw Ident OIdent
   start destructSet Ident OIdent
   start assertRaw Term IntroPattern
   start assert Term IntroPattern

   start symmetryInRaw Ident
   start symmetryIn Ident
   start transitivityRaw Term
   start transitivity Term
   start extensionalityRaw OIdents
   start extensionality OIdents
   start substitutionRaw Ident Term
   start substitution Ident Term
   start substRaw Ident
   start subst Ident
   start injection Ident
   start injectionRaw Ident

   start subsume Term
   start eqtp Term
   start forceExactRaw Term
   start forceExact Term

   start generalizeAtRaw Term Term Numbers OIdent
   start generalizeAt Term Term Numbers OIdent
   start generalizeRaw Term Term OIdent
   start generalize Term Term OIdent
   start rememberAtRaw Term Term Numbers OIdent OIdent
   start rememberAt Term Term Numbers OIdent OIdent
   start rememberRaw Term Term OIdent OIdent
   start remember Term Term OIdent OIdent
   start setEqRaw Ident Term Term OIdent
   start setEq Ident Term Term OIdent

   start rewriteRaw RewriteAims
   start rewrite RewriteAims
   start testRewrite RewriteAims
   start showPosition ShortTargets
   start convert TermAims
   start convertHead ConstantTermAims
   start fold TermAims
   start convertFold TermAims
   start unfold HeadAims
   start unfoldHead HeadAims
   start roll TermAims
   start convertRoll TermAims
   start unroll HeadAims
   start unrollType ConstantAims
   start unrollTypeUniv ConstantTermAims
   start reduceUsing ReductionAims
   start unreduceUsing ReductionTermAims
   start convertUnreduceUsing ReductionTermAims
   start reduce ShortTargets
   start whreduce ShortTargets
   start reduceHard ShortTargets
   start whreduceHard ShortTargets

   start inductRaw Ident
   start induct Ident
   start inductMuUnivRaw Ident Level
   start inductMuUniv Ident Level
   start iterateRaw Ident
   start iterate Ident

   start defineRaw DefinePattern Term
   start define DefinePattern Term Term
   start definerecRaw DefinePattern Term
   start definerec DefinePattern Term Term
   start reductions ReduceDirective
   start makeReduction1 Reduce1Directive
   start makeReduction2 Reduce2Directive

   start typedefRaw Datatype
   start typedef Datatype

   start destructThinRaw Ident IntroPattern
   start destructThin Ident IntroPattern
   start inversionRaw Ident
   start inversion Ident

   start autoWith AutoTools
   start nautoWith _ AutoTools

end


grammaron Pervasive
grammaron CasePervasive
