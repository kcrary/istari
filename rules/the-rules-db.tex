% This file is generated by Rulegen.

\[
\infer[{\tt forallForm}]{\Gamma \vdash {\sf forall}\,A\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt forallEq}]{\Gamma \vdash {\sf forall}\,A\,(\lambda .\,B)= {\sf forall}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt forallFormUniv}]{\Gamma \vdash {\sf forall}\,A\,(\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt forallEqUniv}]{\Gamma \vdash {\sf forall}\,A\,(\lambda .\,B)= {\sf forall}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B= B': {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt forallSub}]{\Gamma \vdash {\sf subtype}\,({\sf forall}\,A\,(\lambda .\,B))\,({\sf forall}\,A'\,(\lambda .\,B'))}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A'\,A
\\
\Gamma ,A'\vdash {\sf subtype}\,B\,B'
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt forallIntroOf}]{\Gamma \vdash (\lambda .\,M): {\sf forall}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash M: B
\end{stack}}
\]

\[
\infer[{\tt forallIntroEq}]{\Gamma \vdash (\lambda .\,M)= (\lambda .\,N): {\sf forall}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash M= N: B
\end{stack}}
\]

\[
\infer[{\tt forallIntro}]{\Gamma \vdash {\sf forall}\,A\,(\lambda .\,B)\:{\sf ext}\:\lambda .\,M}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt forallElimOf}]{\Gamma \vdash M\,P: B[P\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: {\sf forall}\,A\,(\lambda .\,B)
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt forallElimEq}]{\Gamma \vdash M\,P= N\,Q: B[P\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M= N: {\sf forall}\,A\,(\lambda .\,B)
\\
\Gamma \vdash P= Q: A
\end{stack}}
\]

\[
\infer[{\tt forallElim}]{\Gamma \vdash B[P\,.\,{\sf id}]\:{\sf ext}\:M\,P}{
\begin{stack}
\Gamma \vdash {\sf forall}\,A\,(\lambda .\,B)\:{\sf ext}\:M
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt forallEta}]{\Gamma \vdash M= (\lambda .\,M[\uparrow ]\,0): {\sf forall}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash M: {\sf forall}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt forallExt}]{\Gamma \vdash M= N: {\sf forall}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash M: {\sf forall}\,A\,(\lambda .\,B)
\\
\Gamma \vdash N: {\sf forall}\,A\,(\lambda .\,B)
\\
\Gamma ,A\vdash M[\uparrow ]\,0= N[\uparrow ]\,0: B
\end{stack}}
\]

\[
\infer[{\tt forallOfExt}]{\Gamma \vdash M: {\sf forall}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf forall}\,A'\,(\lambda .\,B')
\\
\Gamma ,A\vdash M[\uparrow ]\,0: B
\end{stack}}
\]

\[
\infer[{\tt forallFormInv1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf forall}\,A\,(\lambda .\,B): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt forallFormInv2}]{\Gamma \vdash B[M\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf forall}\,A\,(\lambda .\,B): {\sf type}
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt arrowForm}]{\Gamma \vdash {\sf arrow}\,A\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt arrowEq}]{\Gamma \vdash {\sf arrow}\,A\,B= {\sf arrow}\,A'\,B': {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]= B'[\uparrow ]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt arrowFormUniv}]{\Gamma \vdash {\sf arrow}\,A\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B[\uparrow ]: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt arrowEqUniv}]{\Gamma \vdash {\sf arrow}\,A\,B= {\sf arrow}\,A'\,B': {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B[\uparrow ]= B'[\uparrow ]: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt arrowForallEq}]{\Gamma \vdash {\sf arrow}\,A\,B= {\sf forall}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt arrowForallEqUniv}]{\Gamma \vdash {\sf arrow}\,A\,B= {\sf forall}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B[\uparrow ]= B': {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt arrowSub}]{\Gamma \vdash {\sf subtype}\,({\sf arrow}\,A\,B)\,({\sf arrow}\,A'\,B')}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A'\,A
\\
\Gamma \vdash {\sf subtype}\,B\,B'
\end{stack}}
\]

\[
\infer[{\tt arrowForallSub}]{\Gamma \vdash {\sf subtype}\,({\sf arrow}\,A\,B)\,({\sf forall}\,A'\,(\lambda .\,B'))}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A'\,A
\\
\Gamma ,A'\vdash {\sf subtype}\,B[\uparrow ]\,B'
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt forallArrowSub}]{\Gamma \vdash {\sf subtype}\,({\sf forall}\,A\,(\lambda .\,B))\,({\sf arrow}\,A'\,B')}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A'\,A
\\
\Gamma ,A'\vdash {\sf subtype}\,B\,B'[\uparrow ]
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt arrowIntroOf}]{\Gamma \vdash (\lambda .\,M): {\sf arrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash M: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt arrowIntroEq}]{\Gamma \vdash (\lambda .\,M)= (\lambda .\,N): {\sf arrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash M= N: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt arrowIntro}]{\Gamma \vdash {\sf arrow}\,A\,B\:{\sf ext}\:\lambda .\,M}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt arrowElimOf}]{\Gamma \vdash M\,P: B}{
\begin{stack}
\Gamma \vdash M: {\sf arrow}\,A\,B
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt arrowElimEq}]{\Gamma \vdash M\,P= N\,Q: B}{
\begin{stack}
\Gamma \vdash M= N: {\sf arrow}\,A\,B
\\
\Gamma \vdash P= Q: A
\end{stack}}
\]

\[
\infer[{\tt arrowElim}]{\Gamma \vdash B\:{\sf ext}\:M\,P}{
\begin{stack}
\Gamma \vdash {\sf arrow}\,A\,B\:{\sf ext}\:M
\\
\Gamma \vdash A\:{\sf ext}\:P
\end{stack}}
\]

\[
\infer[{\tt arrowEta}]{\Gamma \vdash M= (\lambda .\,M[\uparrow ]\,0): {\sf arrow}\,A\,B}{
\begin{stack}
\Gamma \vdash M: {\sf arrow}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt arrowExt}]{\Gamma \vdash M= N: {\sf arrow}\,A\,B}{
\begin{stack}
\Gamma \vdash M: {\sf arrow}\,A\,B
\\
\Gamma \vdash N: {\sf arrow}\,A\,B
\\
\Gamma ,A\vdash M[\uparrow ]\,0= N[\uparrow ]\,0: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt arrowOfExt}]{\Gamma \vdash M: {\sf arrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf forall}\,A'\,(\lambda .\,B')
\\
\Gamma ,A\vdash M[\uparrow ]\,0: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt arrowFormInv1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf arrow}\,A\,B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt arrowFormInv2}]{\Gamma \vdash B: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf arrow}\,A\,B: {\sf type}
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt tarrowKind}]{\Gamma \vdash {\sf tarrow}\,A\,K: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash K: {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt tarrowKindEq}]{\Gamma \vdash {\sf tarrow}\,A\,K= {\sf tarrow}\,A'\,K': {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma \vdash K= K': {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt tarrowForm}]{\Gamma \vdash {\sf tarrow}\,A\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt tarrowEq}]{\Gamma \vdash {\sf tarrow}\,A\,B= {\sf tarrow}\,A'\,B': {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma \vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt tarrowFormUniv}]{\Gamma \vdash {\sf tarrow}\,A\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt tarrowEqUniv}]{\Gamma \vdash {\sf tarrow}\,A\,B= {\sf tarrow}\,A'\,B': {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma \vdash B= B': {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt tarrowArrowEq}]{\Gamma \vdash {\sf tarrow}\,A\,B= {\sf arrow}\,A'\,B': {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma \vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt tarrowArrowEqUniv}]{\Gamma \vdash {\sf tarrow}\,A\,B= {\sf arrow}\,A'\,B': {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma \vdash B= B': {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt tarrowForallEq}]{\Gamma \vdash {\sf tarrow}\,A\,B= {\sf forall}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]= B': {\sf type}
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt tarrowForallEqUniv}]{\Gamma \vdash {\sf tarrow}\,A\,B= {\sf forall}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B[\uparrow ]= B': {\Bbb U}_{I[\uparrow ]}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt tarrowIntroOf}]{\Gamma \vdash (\lambda .\,M): {\sf tarrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A\vdash M: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt tarrowIntroEq}]{\Gamma \vdash (\lambda .\,M)= (\lambda .\,N): {\sf tarrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A\vdash M= N: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt tarrowIntro}]{\Gamma \vdash {\sf tarrow}\,A\,B\:{\sf ext}\:\lambda .\,M}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt tarrowElimOf}]{\Gamma \vdash M\,P: B}{
\begin{stack}
\Gamma \vdash M: {\sf tarrow}\,A\,B
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt tarrowElimEq}]{\Gamma \vdash M\,P= N\,Q: B}{
\begin{stack}
\Gamma \vdash M= N: {\sf tarrow}\,A\,B
\\
\Gamma \vdash P= Q: A
\end{stack}}
\]

\[
\infer[{\tt tarrowElim}]{\Gamma \vdash B\:{\sf ext}\:M\,P}{
\begin{stack}
\Gamma \vdash {\sf tarrow}\,A\,B\:{\sf ext}\:M
\\
\Gamma \vdash A\:{\sf ext}\:P
\end{stack}}
\]

\[
\infer[{\tt tarrowEta}]{\Gamma \vdash M= (\lambda .\,M[\uparrow ]\,0): {\sf tarrow}\,A\,B}{
\begin{stack}
\Gamma \vdash M: {\sf tarrow}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt tarrowExt}]{\Gamma \vdash M= N: {\sf tarrow}\,A\,B}{
\begin{stack}
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash M: {\sf tarrow}\,A\,B
\\
\Gamma \vdash N: {\sf tarrow}\,A\,B
\\
\Gamma ,A\vdash M[\uparrow ]\,0= N[\uparrow ]\,0: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt tarrowOfExt}]{\Gamma \vdash M: {\sf tarrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash M: {\sf forall}\,A'\,(\lambda .\,B')
\\
\Gamma ,A\vdash M[\uparrow ]\,0: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt karrowKind}]{\Gamma \vdash {\sf karrow}\,K\,L: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma \vdash L: {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt karrowKindEq}]{\Gamma \vdash {\sf karrow}\,K\,L= {\sf karrow}\,K'\,L': {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash K= K': {\Bbb K}_{I}
\\
\Gamma \vdash L= L': {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt karrowForm}]{\Gamma \vdash {\sf karrow}\,A\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt karrowEq}]{\Gamma \vdash {\sf karrow}\,A\,B= {\sf karrow}\,A'\,B': {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma \vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt karrowFormUniv}]{\Gamma \vdash {\sf karrow}\,A\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt karrowEqUniv}]{\Gamma \vdash {\sf karrow}\,A\,B= {\sf karrow}\,A'\,B': {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma \vdash B= B': {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt karrowArrowEq}]{\Gamma \vdash {\sf karrow}\,A\,B= {\sf arrow}\,A'\,B': {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma \vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt karrowArrowEqUniv}]{\Gamma \vdash {\sf karrow}\,A\,B= {\sf arrow}\,A'\,B': {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma \vdash B= B': {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt karrowForallEq}]{\Gamma \vdash {\sf karrow}\,A\,B= {\sf forall}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]= B': {\sf type}
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt karrowForallEqUniv}]{\Gamma \vdash {\sf karrow}\,A\,B= {\sf forall}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B[\uparrow ]= B': {\Bbb U}_{I[\uparrow ]}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt karrowIntroOf}]{\Gamma \vdash (\lambda .\,M): {\sf karrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A\vdash M: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt karrowIntroEq}]{\Gamma \vdash (\lambda .\,M)= (\lambda .\,N): {\sf karrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A\vdash M= N: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt karrowIntro}]{\Gamma \vdash {\sf karrow}\,A\,B\:{\sf ext}\:\lambda .\,M}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt karrowElimOf}]{\Gamma \vdash M\,P: B}{
\begin{stack}
\Gamma \vdash M: {\sf karrow}\,A\,B
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt karrowElimEq}]{\Gamma \vdash M\,P= N\,Q: B}{
\begin{stack}
\Gamma \vdash M= N: {\sf karrow}\,A\,B
\\
\Gamma \vdash P= Q: A
\end{stack}}
\]

\[
\infer[{\tt karrowElim}]{\Gamma \vdash B\:{\sf ext}\:M\,P}{
\begin{stack}
\Gamma \vdash {\sf karrow}\,A\,B\:{\sf ext}\:M
\\
\Gamma \vdash A\:{\sf ext}\:P
\end{stack}}
\]

\[
\infer[{\tt karrowEta}]{\Gamma \vdash M= (\lambda .\,M[\uparrow ]\,0): {\sf karrow}\,A\,B}{
\begin{stack}
\Gamma \vdash M: {\sf karrow}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt karrowExt}]{\Gamma \vdash M= N: {\sf karrow}\,A\,B}{
\begin{stack}
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash M: {\sf karrow}\,A\,B
\\
\Gamma \vdash N: {\sf karrow}\,A\,B
\\
\Gamma ,A\vdash M[\uparrow ]\,0= N[\uparrow ]\,0: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt karrowOfExt}]{\Gamma \vdash M: {\sf karrow}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash M: {\sf forall}\,A'\,(\lambda .\,B')
\\
\Gamma ,A\vdash M[\uparrow ]\,0: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt intersectForm}]{\Gamma \vdash {\sf intersect}\,A\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt intersectEq}]{\Gamma \vdash {\sf intersect}\,A\,(\lambda .\,B)= {\sf intersect}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt intersectFormUniv}]{\Gamma \vdash {\sf intersect}\,A\,(\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt intersectEqUniv}]{\Gamma \vdash {\sf intersect}\,A\,(\lambda .\,B)= {\sf intersect}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B= B': {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt intersectIntroOf}]{\Gamma \vdash M: {\sf intersect}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash M[\uparrow ]: B
\end{stack}}
\]

\[
\infer[{\tt intersectIntroEq}]{\Gamma \vdash M= N: {\sf intersect}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash M[\uparrow ]= N[\uparrow ]: B
\end{stack}}
\]

\[
\infer[{\tt intersectIntro}]{\Gamma \vdash {\sf intersect}\,A\,(\lambda .\,B)\:{\sf ext}\:M[\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,[A]\vdash B\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt intersectElimOf}]{\Gamma \vdash M: B[P\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: {\sf intersect}\,A\,(\lambda .\,B)
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt intersectElimEq}]{\Gamma \vdash M= N: B[P\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M= N: {\sf intersect}\,A\,(\lambda .\,B)
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt intersectElim}]{\Gamma \vdash B[P\,.\,{\sf id}]\:{\sf ext}\:M}{
\begin{stack}
\Gamma \vdash {\sf intersect}\,A\,(\lambda .\,B)\:{\sf ext}\:M
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt intersectFormInv1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf intersect}\,A\,(\lambda .\,B): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt intersectFormInv2}]{\Gamma \vdash B[M\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf intersect}\,A\,(\lambda .\,B): {\sf type}
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt guardForm}]{\Gamma \vdash {\sf guard}\,A\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt guardEq}]{\Gamma \vdash {\sf guard}\,A\,B= {\sf guard}\,A'\,B': {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]= B'[\uparrow ]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt guardFormUniv}]{\Gamma \vdash {\sf guard}\,A\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B[\uparrow ]: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt guardEqUniv}]{\Gamma \vdash {\sf guard}\,A\,B= {\sf guard}\,A'\,B': {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B[\uparrow ]= B'[\uparrow ]: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt guardIntroOf}]{\Gamma \vdash M: {\sf guard}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash M[\uparrow ]: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt guardIntroEq}]{\Gamma \vdash M= N: {\sf guard}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash M[\uparrow ]= N[\uparrow ]: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt guardIntro}]{\Gamma \vdash {\sf guard}\,A\,B\:{\sf ext}\:M[\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,[A]\vdash B[\uparrow ]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt guardElimOf}]{\Gamma \vdash M: B}{
\begin{stack}
\Gamma \vdash M: {\sf guard}\,A\,B
\\
\Gamma \vdash A
\end{stack}}
\]

\[
\infer[{\tt guardElimEq}]{\Gamma \vdash M= N: B}{
\begin{stack}
\Gamma \vdash M= N: {\sf guard}\,A\,B
\\
\Gamma \vdash A
\end{stack}}
\]

\[
\infer[{\tt guardElim}]{\Gamma \vdash B\:{\sf ext}\:M}{
\begin{stack}
\Gamma \vdash {\sf guard}\,A\,B\:{\sf ext}\:M
\\
\Gamma \vdash A
\end{stack}}
\]

\[
\infer[{\tt guardSatEq}]{\Gamma \vdash B= {\sf guard}\,A\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash A
\end{stack}}
\]

\[
\infer[{\tt existsForm}]{\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt existsEq}]{\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B)= {\sf exists}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt existsFormUniv}]{\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt existsEqUniv}]{\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B)= {\sf exists}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B= B': {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt existsSub}]{\Gamma \vdash {\sf subtype}\,({\sf exists}\,A\,(\lambda .\,B))\,({\sf exists}\,A'\,(\lambda .\,B'))}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,A'
\\
\Gamma ,A\vdash {\sf subtype}\,B\,B'
\\
\Gamma ,A'\vdash B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt existsIntroOf}]{\Gamma \vdash \langle M,N\rangle : {\sf exists}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash N: B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt existsIntroEq}]{\Gamma \vdash \langle M,N\rangle = \langle M',N'\rangle : {\sf exists}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M= M': A
\\
\Gamma \vdash N= N': B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt existsIntro}]{\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B)\:{\sf ext}\:\langle M,N\rangle }{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash B[M\,.\,{\sf id}]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt existsElim1Of}]{\Gamma \vdash M\, \pi_1: A}{
\begin{stack}
\Gamma \vdash M: {\sf exists}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt existsElim1Eq}]{\Gamma \vdash M\, \pi_1= N\, \pi_1: A}{
\begin{stack}
\Gamma \vdash M= N: {\sf exists}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt existsElim1}]{\Gamma \vdash A\:{\sf ext}\:M\, \pi_1}{
\begin{stack}
\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B)\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt existsElim2Of}]{\Gamma \vdash M\, \pi_2: B[M\, \pi_1\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: {\sf exists}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt existsElim2Eq}]{\Gamma \vdash M\, \pi_2= N\, \pi_2: B[M\, \pi_1\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M= N: {\sf exists}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt existsEta}]{\Gamma \vdash M= \langle M\, \pi_1,M\, \pi_2\rangle : {\sf exists}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash M: {\sf exists}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt existsExt}]{\Gamma \vdash M= N: {\sf exists}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma \vdash M: {\sf exists}\,A\,(\lambda .\,B)
\\
\Gamma \vdash N: {\sf exists}\,A\,(\lambda .\,B)
\\
\Gamma \vdash M\, \pi_1= N\, \pi_1: A
\\
\Gamma \vdash M\, \pi_2= N\, \pi_2: B[M\, \pi_1\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt existsLeft}]{\Gamma_1 ,({\sf exists}\,A\,(\lambda .\,B)), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(0\, \pi_2\,.\,0\, \pi_1\,.\,\uparrow )]}{
\begin{stack}
\Gamma_1 ,A,B, \Gamma_2[\langle 1,0\rangle \,.\,\uparrow^2]\vdash C[{\sf under}(\langle 1,0\rangle \,.\,\uparrow^2)]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt existsFormInv1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt existsFormInv2}]{\Gamma \vdash B[M\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B): {\sf type}
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt existsFormInv2Eq}]{\Gamma \vdash B[M\,.\,{\sf id}]= B[N\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf exists}\,A\,(\lambda .\,B): {\sf type}
\\
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt prodKind}]{\Gamma \vdash {\sf prod}\,K\,L: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma \vdash L: {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt prodKindEq}]{\Gamma \vdash {\sf prod}\,K\,L= {\sf prod}\,K'\,L': {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash K= K': {\Bbb K}_{I}
\\
\Gamma \vdash L= L': {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt prodForm}]{\Gamma \vdash {\sf prod}\,A\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt prodEq}]{\Gamma \vdash {\sf prod}\,A\,B= {\sf prod}\,A'\,B': {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma \vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt prodFormUniv}]{\Gamma \vdash {\sf prod}\,A\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt prodEqUniv}]{\Gamma \vdash {\sf prod}\,A\,B= {\sf prod}\,A'\,B': {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma \vdash B= B': {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt prodExistsEq}]{\Gamma \vdash {\sf prod}\,A\,B= {\sf exists}\,A\,(\lambda .\,B[\uparrow ]): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma \vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt prodExistsEqUniv}]{\Gamma \vdash {\sf prod}\,A\,B= {\sf exists}\,A\,(\lambda .\,B[\uparrow ]): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma \vdash B= B': {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt prodSub}]{\Gamma \vdash {\sf subtype}\,({\sf prod}\,A\,B)\,({\sf prod}\,A'\,B')}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,A'
\\
\Gamma \vdash {\sf subtype}\,B\,B'
\end{stack}}
\]

\[
\infer[{\tt prodExistsSub}]{\Gamma \vdash {\sf subtype}\,({\sf prod}\,A\,B)\,({\sf exists}\,A'\,(\lambda .\,B'))}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,A'
\\
\Gamma ,A\vdash {\sf subtype}\,B[\uparrow ]\,B'
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A'\vdash B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt existsProdSub}]{\Gamma \vdash {\sf subtype}\,({\sf exists}\,A\,(\lambda .\,B))\,({\sf prod}\,A'\,B')}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,A'
\\
\Gamma ,A\vdash {\sf subtype}\,B\,B'[\uparrow ]
\\
\Gamma \vdash B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt prodIntroOf}]{\Gamma \vdash \langle M,N\rangle : {\sf prod}\,A\,B}{
\begin{stack}
\Gamma \vdash M: A
\\
\Gamma \vdash N: B
\end{stack}}
\]

\[
\infer[{\tt prodIntroEq}]{\Gamma \vdash \langle M,N\rangle = \langle M',N'\rangle : {\sf prod}\,A\,B}{
\begin{stack}
\Gamma \vdash M= M': A
\\
\Gamma \vdash N= N': B
\end{stack}}
\]

\[
\infer[{\tt prodIntro}]{\Gamma \vdash {\sf prod}\,A\,B\:{\sf ext}\:\langle M,N\rangle }{
\begin{stack}
\Gamma \vdash A\:{\sf ext}\:M
\\
\Gamma \vdash B\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt prodElim1Of}]{\Gamma \vdash M\, \pi_1: A}{
\begin{stack}
\Gamma \vdash M: {\sf prod}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt prodElim1Eq}]{\Gamma \vdash M\, \pi_1= N\, \pi_1: A}{
\begin{stack}
\Gamma \vdash M= N: {\sf prod}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt prodElim1}]{\Gamma \vdash A\:{\sf ext}\:M\, \pi_1}{
\begin{stack}
\Gamma \vdash {\sf prod}\,A\,B\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt prodElim2Of}]{\Gamma \vdash M\, \pi_2: B}{
\begin{stack}
\Gamma \vdash M: {\sf prod}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt prodElim2Eq}]{\Gamma \vdash M\, \pi_2= N\, \pi_2: B}{
\begin{stack}
\Gamma \vdash M= N: {\sf prod}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt prodElim2}]{\Gamma \vdash B\:{\sf ext}\:M\, \pi_2}{
\begin{stack}
\Gamma \vdash {\sf prod}\,A\,B\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt prodEta}]{\Gamma \vdash M= \langle M\, \pi_1,M\, \pi_2\rangle : {\sf prod}\,A\,B}{
\begin{stack}
\Gamma \vdash M: {\sf prod}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt prodExt}]{\Gamma \vdash M= N: {\sf prod}\,A\,B}{
\begin{stack}
\Gamma \vdash M: {\sf prod}\,A\,B
\\
\Gamma \vdash N: {\sf prod}\,A\,B
\\
\Gamma \vdash M\, \pi_1= N\, \pi_1: A
\\
\Gamma \vdash M\, \pi_2= N\, \pi_2: B
\end{stack}}
\]

\[
\infer[{\tt prodLeft}]{\Gamma_1 ,({\sf prod}\,A\,B), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(0\, \pi_2\,.\,0\, \pi_1\,.\,\uparrow )]}{
\begin{stack}
\Gamma_1 ,A,B[\uparrow ], \Gamma_2[\langle 1,0\rangle \,.\,\uparrow^2]\vdash C[{\sf under}(\langle 1,0\rangle \,.\,\uparrow^2)]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt prodFormInv1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf prod}\,A\,B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt prodFormInv2}]{\Gamma \vdash B: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf prod}\,A\,B: {\sf type}
\\
\Gamma \vdash A
\end{stack}}
\]

\[
\infer[{\tt unionForm}]{\Gamma \vdash {\sf union}\,A\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt unionEq}]{\Gamma \vdash {\sf union}\,A\,(\lambda .\,B)= {\sf union}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt unionFormUniv}]{\Gamma \vdash {\sf union}\,A\,(\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt unionEqUniv}]{\Gamma \vdash {\sf union}\,A\,(\lambda .\,B)= {\sf union}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B= B': {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt unionIntroOf}]{\Gamma \vdash N: {\sf union}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash N: B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt unionIntroEq}]{\Gamma \vdash N= N': {\sf union}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash N= N': B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt unionIntro}]{\Gamma \vdash {\sf union}\,A\,(\lambda .\,B)\:{\sf ext}\:N}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash B[M\,.\,{\sf id}]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt unionElimOf}]{\Gamma \vdash P[M\,.\,{\sf id}]: C}{
\begin{stack}
\Gamma ,A,B\vdash P[0\,.\,\uparrow^2]: C[\uparrow^2]
\\
\Gamma \vdash M: {\sf union}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt unionElimEq}]{\Gamma \vdash P[M\,.\,{\sf id}]= Q[N\,.\,{\sf id}]: C}{
\begin{stack}
\Gamma ,A,B\vdash P[0\,.\,\uparrow^2]= Q[0\,.\,\uparrow^2]: C[\uparrow^2]
\\
\Gamma \vdash M= N: {\sf union}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt unionElim}]{\Gamma \vdash C\:{\sf ext}\:P[M\,.\,\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma ,[A],B\vdash C[\uparrow^2]\:{\sf ext}\:P
\\
\Gamma \vdash M: {\sf union}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt unionElimIstype}]{\Gamma \vdash C[M\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma ,A,B\vdash C[0\,.\,\uparrow^2]: {\sf type}
\\
\Gamma \vdash M: {\sf union}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt unionElimEqtype}]{\Gamma \vdash C[M\,.\,{\sf id}]= D[N\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma ,A,B\vdash C[0\,.\,\uparrow^2]= D[0\,.\,\uparrow^2]: {\sf type}
\\
\Gamma \vdash M= N: {\sf union}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt sumForm}]{\Gamma \vdash {\sf sum}\,A\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt sumEq}]{\Gamma \vdash {\sf sum}\,A\,B= {\sf sum}\,A'\,B': {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma \vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt sumFormUniv}]{\Gamma \vdash {\sf sum}\,A\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt sumEqUniv}]{\Gamma \vdash {\sf sum}\,A\,B= {\sf sum}\,A'\,B': {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma \vdash B= B': {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt sumSub}]{\Gamma \vdash {\sf subtype}\,({\sf sum}\,A\,B)\,({\sf sum}\,A'\,B')}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,A'
\\
\Gamma \vdash {\sf subtype}\,B\,B'
\end{stack}}
\]

\[
\infer[{\tt sumIntro1Of}]{\Gamma \vdash {\sf inl}\,M: {\sf sum}\,A\,B}{
\begin{stack}
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt sumIntro1Eq}]{\Gamma \vdash {\sf inl}\,M= {\sf inl}\,N: {\sf sum}\,A\,B}{
\begin{stack}
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt sumIntro1}]{\Gamma \vdash {\sf sum}\,A\,B\:{\sf ext}\:{\sf inl}\,M}{
\begin{stack}
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash A\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt sumIntro2Of}]{\Gamma \vdash {\sf inr}\,M: {\sf sum}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash M: B
\end{stack}}
\]

\[
\infer[{\tt sumIntro2Eq}]{\Gamma \vdash {\sf inr}\,M= {\sf inr}\,N: {\sf sum}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash M= N: B
\end{stack}}
\]

\[
\infer[{\tt sumIntro2}]{\Gamma \vdash {\sf sum}\,A\,B\:{\sf ext}\:{\sf inr}\,M}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt sumElimOf}]{\Gamma \vdash {\sf sum_case}\,M\,(\lambda .\,P)\,(\lambda .\,R): C[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: {\sf sum}\,A\,B
\\
\Gamma ,A\vdash P: C[{\sf inl}\,0\,.\,\uparrow ]
\\
\Gamma ,B\vdash R: C[{\sf inr}\,0\,.\,\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt sumElimOfNondep}]{\Gamma \vdash {\sf sum_case}\,M\,(\lambda .\,P)\,(\lambda .\,R): C}{
\begin{stack}
\Gamma \vdash M: {\sf sum}\,A\,B
\\
\Gamma ,A\vdash P: C[\uparrow ]
\\
\Gamma ,B\vdash R: C[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt sumElimEq}]{\Gamma \vdash {\sf sum_case}\,M\,(\lambda .\,P)\,(\lambda .\,R)= {\sf sum_case}\,N\,(\lambda .\,Q)\,(\lambda .\,S): C[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M= N: {\sf sum}\,A\,B
\\
\Gamma ,A\vdash P= Q: C[{\sf inl}\,0\,.\,\uparrow ]
\\
\Gamma ,B\vdash R= S: C[{\sf inr}\,0\,.\,\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt sumElim}]{\Gamma \vdash C[M\,.\,{\sf id}]\:{\sf ext}\:{\sf sum_case}\,M\,(\lambda .\,P)\,(\lambda .\,R)}{
\begin{stack}
\Gamma \vdash M: {\sf sum}\,A\,B
\\
\Gamma ,A\vdash C[{\sf inl}\,0\,.\,\uparrow ]\:{\sf ext}\:P
\\
\Gamma ,B\vdash C[{\sf inr}\,0\,.\,\uparrow ]\:{\sf ext}\:R
\end{stack}}
\]

\[
\infer[{\tt sumElimNondep}]{\Gamma \vdash C\:{\sf ext}\:{\sf sum_case}\,M\,(\lambda .\,P)\,(\lambda .\,R)}{
\begin{stack}
\Gamma \vdash {\sf sum}\,A\,B\:{\sf ext}\:M
\\
\Gamma ,A\vdash C[\uparrow ]\:{\sf ext}\:P
\\
\Gamma ,B\vdash C[\uparrow ]\:{\sf ext}\:R
\end{stack}}
\]

\[
\infer[{\tt sumElimIstype}]{\Gamma \vdash {\sf sum_case}\,M\,(\lambda .\,C)\,(\lambda .\,E): {\sf type}}{
\begin{stack}
\Gamma \vdash M: {\sf sum}\,A\,B
\\
\Gamma ,A\vdash C: {\sf type}
\\
\Gamma ,B\vdash E: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt sumElimEqtype}]{\Gamma \vdash {\sf sum_case}\,M\,(\lambda .\,C)\,(\lambda .\,E)= {\sf sum_case}\,N\,(\lambda .\,D)\,(\lambda .\,F): {\sf type}}{
\begin{stack}
\Gamma \vdash M= N: {\sf sum}\,A\,B
\\
\Gamma ,A\vdash C= D: {\sf type}
\\
\Gamma ,B\vdash E= F: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt sumContradiction}]{\Gamma \vdash C}{
\begin{stack}
\Gamma \vdash {\sf inl}\,M= {\sf inr}\,N: {\sf sum}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt sumInjection1}]{\Gamma \vdash M= N: A}{
\begin{stack}
\Gamma \vdash {\sf inl}\,M= {\sf inl}\,N: {\sf sum}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt sumInjection2}]{\Gamma \vdash M= N: B}{
\begin{stack}
\Gamma \vdash {\sf inr}\,M= {\sf inr}\,N: {\sf sum}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt sum_caseType}]{\Gamma \vdash {\sf sum_case}: {\sf intersect}\,{\sf level}\,(\lambda .\,{\sf intersect}\,{\Bbb U}_{0}\,(\lambda .\,{\sf intersect}\,{\Bbb U}_{1}\,(\lambda .\,{\sf intersect}\,{\Bbb U}_{2}\,(\lambda .\,{\sf arrow}\,({\sf sum}\,2\,1)\,({\sf arrow}\,({\sf arrow}\,2\,0)\,({\sf arrow}\,({\sf arrow}\,1\,0)\,0))))))}{}
\]

\[
\infer[{\tt sumFormInv1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf sum}\,A\,B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt sumFormInv2}]{\Gamma \vdash B: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf sum}\,A\,B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt futureKind}]{\Gamma \vdash {\sf future}\,K: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\overline{\Gamma}\vdash K: {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt futureKindEq}]{\Gamma \vdash {\sf future}\,K= {\sf future}\,L: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\overline{\Gamma}\vdash K= L: {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt futureForm}]{\Gamma \vdash {\sf future}\,A: {\sf type}}{
\begin{stack}
\overline{\Gamma}\vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt futureEq}]{\Gamma \vdash {\sf future}\,A= {\sf future}\,B: {\sf type}}{
\begin{stack}
\overline{\Gamma}\vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt futureFormUniv}]{\Gamma \vdash {\sf future}\,A: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\overline{\Gamma}\vdash A: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt futureEqUniv}]{\Gamma \vdash {\sf future}\,A= {\sf future}\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\overline{\Gamma}\vdash A= B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt futureSub}]{\Gamma \vdash {\sf subtype}\,({\sf future}\,A)\,({\sf future}\,B)}{
\begin{stack}
\overline{\Gamma}\vdash {\sf subtype}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt futureIntroOf}]{\Gamma \vdash {\sf next}\,M: {\sf future}\,A}{
\begin{stack}
\overline{\Gamma}\vdash M: A
\end{stack}}
\]

\[
\infer[{\tt futureIntroEq}]{\Gamma \vdash {\sf next}\,M= {\sf next}\,N: {\sf future}\,A}{
\begin{stack}
\overline{\Gamma}\vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt futureIntro}]{\Gamma \vdash {\sf future}\,A\:{\sf ext}\:{\sf next}\,M}{
\begin{stack}
\overline{\Gamma}\vdash A\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt futureElimOf}]{\Gamma \vdash P[M\, {\sf prev}\,.\,{\sf id}]: B[M\, {\sf prev}\,.\,{\sf id}]}{
\begin{stack}
\overline{\Gamma}\vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf future}\,A
\\
\Gamma ,\underline{A}\vdash P: B
\end{stack}}
\]

\[
\infer[{\tt futureElimOfLetnext}]{\Gamma \vdash {\sf letnext}\,M\,(\lambda .\,P): B[M\, {\sf prev}\,.\,{\sf id}]}{
\begin{stack}
\overline{\Gamma}\vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf future}\,A
\\
\Gamma ,\underline{A}\vdash P: B
\end{stack}}
\]

\[
\infer[{\tt futureElimOfLetnextNondep}]{\Gamma \vdash {\sf letnext}\,M\,(\lambda .\,P): B}{
\begin{stack}
\overline{\Gamma}\vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf future}\,A
\\
\Gamma ,\underline{A}\vdash P: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt futureElimEq}]{\Gamma \vdash P[M\, {\sf prev}\,.\,{\sf id}]= Q[N\, {\sf prev}\,.\,{\sf id}]: B[M\, {\sf prev}\,.\,{\sf id}]}{
\begin{stack}
\overline{\Gamma}\vdash A: {\sf type}
\\
\Gamma \vdash M= N: {\sf future}\,A
\\
\Gamma ,\underline{A}\vdash P= Q: B
\end{stack}}
\]

\[
\infer[{\tt futureElimIstype}]{\Gamma \vdash B[M\, {\sf prev}\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\overline{\Gamma}\vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf future}\,A
\\
\Gamma ,\underline{A}\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt futureElimIstypeLetnext}]{\Gamma \vdash {\sf letnext}\,M\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\overline{\Gamma}\vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf future}\,A
\\
\Gamma ,\underline{A}\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt futureElimEqtype}]{\Gamma \vdash B[M\, {\sf prev}\,.\,{\sf id}]= C[N\, {\sf prev}\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\overline{\Gamma}\vdash A: {\sf type}
\\
\Gamma \vdash M= N: {\sf future}\,A
\\
\Gamma ,\underline{A}\vdash B= C: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt futureEta}]{\Gamma \vdash M= {\sf next}\,(M\, {\sf prev}): {\sf future}\,A}{
\begin{stack}
\Gamma \vdash M: {\sf future}\,A
\end{stack}}
\]

\[
\infer[{\tt futureExt}]{\Gamma \vdash M= N: {\sf future}\,A}{
\begin{stack}
\Gamma \vdash M: {\sf future}\,A
\\
\Gamma \vdash N: {\sf future}\,A
\\
\overline{\Gamma}\vdash M\, {\sf prev}= N\, {\sf prev}: A
\end{stack}}
\]

\[
\infer[{\tt futureLeft}]{\Gamma_1 ,({\sf future}\,A), \Gamma_2 \vdash B\:{\sf ext}\:M[{\sf under}(0\, {\sf prev}\,.\,\uparrow )]}{
\begin{stack}
\overline{\Gamma_1}\vdash A: {\sf type}
\\
\Gamma_1 ,\underline{A}, \Gamma_2[{\sf next}\,0\,.\,\uparrow ]\vdash B[{\sf under}({\sf next}\,0\,.\,\uparrow )]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt recKind}]{\Gamma \vdash {\sf rec}\,(\lambda .\,K): {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,\underline{{\Bbb K}_{I}}\vdash K: {\Bbb K}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt recKindEq}]{\Gamma \vdash {\sf rec}\,(\lambda .\,K)= {\sf rec}\,(\lambda .\,L): {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,\underline{{\Bbb K}_{I}}\vdash K= L: {\Bbb K}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt recForm}]{\Gamma \vdash {\sf rec}\,(\lambda .\,A): {\sf type}}{
\begin{stack}
\Gamma ,\underline{\sf type}\vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt recEq}]{\Gamma \vdash {\sf rec}\,(\lambda .\,A)= {\sf rec}\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma ,\underline{\sf type}\vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt recFormUniv}]{\Gamma \vdash {\sf rec}\,(\lambda .\,A): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,\underline{{\Bbb U}_{I}}\vdash A: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt recEqUniv}]{\Gamma \vdash {\sf rec}\,(\lambda .\,A)= {\sf rec}\,(\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,\underline{{\Bbb U}_{I}}\vdash A= B: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt recUnroll}]{\Gamma \vdash {\sf rec}\,(\lambda .\,A)= A[{\sf rec}\,(\lambda .\,A)\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma ,\underline{\sf type}\vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt recUnrollUniv}]{\Gamma \vdash {\sf rec}\,(\lambda .\,A)= A[{\sf rec}\,(\lambda .\,A)\,.\,{\sf id}]: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,\underline{{\Bbb U}_{I}}\vdash A: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt recBisimilar}]{\Gamma \vdash B= {\sf rec}\,(\lambda .\,A): {\sf type}}{
\begin{stack}
\Gamma ,\underline{\sf type}\vdash A: {\sf type}
\\
\Gamma \vdash B= A[B\,.\,{\sf id}]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt muForm}]{\Gamma \vdash {\sf mu}\,(\lambda .\,A): {\sf type}}{
\begin{stack}
\Gamma ,{\sf type}\vdash A: {\sf type}
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt muEq}]{\Gamma \vdash {\sf mu}\,(\lambda .\,A)= {\sf mu}\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma ,{\sf type}\vdash A= B: {\sf type}
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,A)
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt muFormUniv}]{\Gamma \vdash {\sf mu}\,(\lambda .\,A): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,{\Bbb U}_{I}\vdash A: {\Bbb U}_{I[\uparrow ]}
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt muEqUniv}]{\Gamma \vdash {\sf mu}\,(\lambda .\,A)= {\sf mu}\,(\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,{\Bbb U}_{I}\vdash A= B: {\Bbb U}_{I[\uparrow ]}
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,A)
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt muUnroll}]{\Gamma \vdash {\sf eeqtp}\,({\sf mu}\,(\lambda .\,A))\,A[{\sf mu}\,(\lambda .\,A)\,.\,{\sf id}]\:{\sf ext}\:\langle \star ,\star \rangle }{
\begin{stack}
\Gamma ,{\sf type}\vdash A: {\sf type}
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt muUnrollUniv}]{\Gamma \vdash {\sf eeqtp}\,({\sf mu}\,(\lambda .\,A))\,A[{\sf mu}\,(\lambda .\,A)\,.\,{\sf id}]\:{\sf ext}\:\langle \star ,\star \rangle }{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,{\Bbb U}_{I}\vdash A: {\Bbb U}_{I[\uparrow ]}
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt muInd}]{\Gamma \vdash B[M\,.\,{\sf id}]\:{\sf ext}\:{\sf fix}\,(\lambda .\,\lambda .\,N[1\,.\,\star \,.\,0\,.\,\star \,.\,\uparrow^2])\,M}{
\begin{stack}
\Gamma ,{\sf type}\vdash A: {\sf type}
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,A)
\\
\Gamma ,[{\sf type}],A,({\sf subtype}\,1\,({\sf mu}\,(\lambda .\,A[0\,.\,\uparrow^3]))),({\sf forall}\,2\,(\lambda .\,B[0\,.\,\uparrow^4]))\vdash B[2\,.\,\uparrow^4]\:{\sf ext}\:N
\\
\Gamma \vdash M: {\sf mu}\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt muIndUniv}]{\Gamma \vdash B[M\,.\,{\sf id}]\:{\sf ext}\:{\sf fix}\,(\lambda .\,\lambda .\,N[1\,.\,\star \,.\,0\,.\,\star \,.\,\uparrow^2]\, \pi_1)\,M}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma ,{\Bbb U}_{I}\vdash A: {\Bbb U}_{I[\uparrow ]}
\\
\Gamma \vdash {\sf positive}\,(\lambda .\,A)
\\
\Gamma ,[{\Bbb U}_{I}],A,({\sf subtype}\,1\,({\sf mu}\,(\lambda .\,A[0\,.\,\uparrow^3]))),({\sf forall}\,2\,(\lambda .\,B[0\,.\,\uparrow^4]))\vdash {\sf prod}\,B[2\,.\,\uparrow^4]\,(B[2\,.\,\uparrow^4]: {\Bbb U}_{I[\uparrow^4]})\:{\sf ext}\:N
\\
\Gamma \vdash M: {\sf mu}\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt voidForm}]{\Gamma \vdash {\sf void}: {\sf type}}{}
\]

\[
\infer[{\tt voidEq}]{\Gamma \vdash {\sf void}= {\sf void}: {\sf type}}{}
\]

\[
\infer[{\tt voidFormUniv}]{\Gamma \vdash {\sf void}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt voidEqUniv}]{\Gamma \vdash {\sf void}= {\sf void}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt voidElim}]{\Gamma \vdash A}{
\begin{stack}
\Gamma \vdash {\sf void}
\end{stack}}
\]

\[
\infer[{\tt voidSub}]{\Gamma \vdash {\sf subtype}\,{\sf void}\,A}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt abortType}]{\Gamma \vdash {\sf abort}: {\sf intersect}\,{\sf level}\,(\lambda .\,{\sf intersect}\,{\Bbb U}_{0}\,(\lambda .\,{\sf arrow}\,{\sf void}\,0))}{}
\]

\[
\infer[{\tt unitKind}]{\Gamma \vdash {\sf unit}: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt unitKindEq}]{\Gamma \vdash {\sf unit}= {\sf unit}: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt unitForm}]{\Gamma \vdash {\sf unit}: {\sf type}}{}
\]

\[
\infer[{\tt unitEq}]{\Gamma \vdash {\sf unit}= {\sf unit}: {\sf type}}{}
\]

\[
\infer[{\tt unitFormUniv}]{\Gamma \vdash {\sf unit}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt unitEqUniv}]{\Gamma \vdash {\sf unit}= {\sf unit}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt unitIntroOf}]{\Gamma \vdash \star : {\sf unit}}{}
\]

\[
\infer[{\tt unitIntro}]{\Gamma \vdash {\sf unit}}{}
\]

\[
\infer[{\tt unitExt}]{\Gamma \vdash M= N: {\sf unit}}{
\begin{stack}
\Gamma \vdash M: {\sf unit}
\\
\Gamma \vdash N: {\sf unit}
\end{stack}}
\]

\[
\infer[{\tt unitLeft}]{\Gamma_1 ,{\sf unit}, \Gamma_2 \vdash B\:{\sf ext}\:M[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 , \Gamma_2[\star \,.\,{\sf id}]\vdash B[{\sf under}(\star \,.\,{\sf id})]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt boolForm}]{\Gamma \vdash {\sf bool}: {\sf type}}{}
\]

\[
\infer[{\tt boolEq}]{\Gamma \vdash {\sf bool}= {\sf bool}: {\sf type}}{}
\]

\[
\infer[{\tt boolFormUniv}]{\Gamma \vdash {\sf bool}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt boolEqUniv}]{\Gamma \vdash {\sf bool}= {\sf bool}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt boolIntro1Of}]{\Gamma \vdash {\sf true}: {\sf bool}}{}
\]

\[
\infer[{\tt boolIntro2Of}]{\Gamma \vdash {\sf false}: {\sf bool}}{}
\]

\[
\infer[{\tt boolElimOf}]{\Gamma \vdash {\sf ite}\,M\,P\,R: A[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: {\sf bool}
\\
\Gamma \vdash P: A[{\sf true}\,.\,{\sf id}]
\\
\Gamma \vdash R: A[{\sf false}\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt boolElimOfNondep}]{\Gamma \vdash {\sf ite}\,M\,P\,R: A}{
\begin{stack}
\Gamma \vdash M: {\sf bool}
\\
\Gamma \vdash P: A
\\
\Gamma \vdash R: A
\end{stack}}
\]

\[
\infer[{\tt boolElimEq}]{\Gamma \vdash {\sf ite}\,M\,P\,R= {\sf ite}\,N\,Q\,S: A[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M= N: {\sf bool}
\\
\Gamma \vdash P= Q: A[{\sf true}\,.\,{\sf id}]
\\
\Gamma \vdash R= S: A[{\sf false}\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt boolElim}]{\Gamma \vdash A[M\,.\,{\sf id}]\:{\sf ext}\:{\sf ite}\,M\,P\,R}{
\begin{stack}
\Gamma \vdash M: {\sf bool}
\\
\Gamma \vdash A[{\sf true}\,.\,{\sf id}]\:{\sf ext}\:P
\\
\Gamma \vdash A[{\sf false}\,.\,{\sf id}]\:{\sf ext}\:R
\end{stack}}
\]

\[
\infer[{\tt boolElimIstype}]{\Gamma \vdash {\sf ite}\,M\,A\,C: {\sf type}}{
\begin{stack}
\Gamma \vdash M: {\sf bool}
\\
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash C: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt boolElimEqtype}]{\Gamma \vdash {\sf ite}\,M\,A\,C= {\sf ite}\,N\,B\,D: {\sf type}}{
\begin{stack}
\Gamma \vdash M= N: {\sf bool}
\\
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash C= D: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt boolLeft}]{\Gamma_1 ,{\sf bool}, \Gamma_2 \vdash A\:{\sf ext}\:{\sf ite}\,(0+ g)\,M[{\sf under}(\uparrow )]\,N[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 , \Gamma_2[{\sf true}\,.\,{\sf id}]\vdash A[{\sf under}({\sf true}\,.\,{\sf id})]\:{\sf ext}\:M
\\
\Gamma_1 , \Gamma_2[{\sf false}\,.\,{\sf id}]\vdash A[{\sf under}({\sf false}\,.\,{\sf id})]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt boolContradiction}]{\Gamma \vdash A}{
\begin{stack}
\Gamma \vdash {\sf true}= {\sf false}: {\sf bool}
\end{stack}}
\]

\[
\infer[{\tt iteType}]{\Gamma \vdash {\sf ite}: {\sf intersect}\,{\sf level}\,(\lambda .\,{\sf intersect}\,{\Bbb U}_{0}\,(\lambda .\,{\sf arrow}\,{\sf bool}\,({\sf arrow}\,0\,({\sf arrow}\,0\,0))))}{}
\]

\[
\infer[{\tt natForm}]{\Gamma \vdash {\sf nat}: {\sf type}}{}
\]

\[
\infer[{\tt natEq}]{\Gamma \vdash {\sf nat}= {\sf nat}: {\sf type}}{}
\]

\[
\infer[{\tt natFormUniv}]{\Gamma \vdash {\sf nat}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt natEqUniv}]{\Gamma \vdash {\sf nat}= {\sf nat}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt natElimEq}]{\Gamma \vdash {\sf nat_case}\,M\,P\,(\lambda .\,R)= {\sf nat_case}\,N\,Q\,(\lambda .\,S): A[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M= N: {\sf nat}
\\
\Gamma \vdash P= Q: A[{\sf zero}\,.\,{\sf id}]
\\
\Gamma ,{\sf nat}\vdash R= S: A[{\sf succ}\,0\,.\,\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt natElimEqtype}]{\Gamma \vdash {\sf nat_case}\,M\,A\,(\lambda .\,C)= {\sf nat_case}\,N\,B\,(\lambda .\,D): {\sf type}}{
\begin{stack}
\Gamma \vdash M= N: {\sf nat}
\\
\Gamma \vdash A= B: {\sf type}
\\
\Gamma ,{\sf nat}\vdash C= D: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt natUnroll}]{\Gamma \vdash {\sf eeqtp}\,{\sf nat}\,({\sf sum}\,{\sf unit}\,{\sf nat})\:{\sf ext}\:\langle \star ,\star \rangle }{}
\]

\[
\infer[{\tt natContradiction}]{\Gamma \vdash A}{
\begin{stack}
\Gamma \vdash {\sf zero}= {\sf succ}\,M: {\sf nat}
\end{stack}}
\]

\[
\infer[{\tt natInjection}]{\Gamma \vdash M= N: {\sf nat}}{
\begin{stack}
\Gamma \vdash {\sf succ}\,M= {\sf succ}\,N: {\sf nat}
\end{stack}}
\]

\[
\infer[{\tt zeroType}]{\Gamma \vdash {\sf zero}: {\sf nat}}{}
\]

\[
\infer[{\tt succType}]{\Gamma \vdash {\sf succ}: {\sf arrow}\,{\sf nat}\,{\sf nat}}{}
\]

\[
\infer[{\tt univKind}]{\Gamma \vdash {\Bbb U}_{J}: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash J= I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt univKindEq}]{\Gamma \vdash {\Bbb U}_{J}= {\Bbb U}_{K}: {\Bbb K}_{I}}{
\begin{stack}
\Gamma \vdash J= K: {\sf level}
\\
\Gamma \vdash J= I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt univForm}]{\Gamma \vdash {\Bbb U}_{I}: {\sf type}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt univEq}]{\Gamma \vdash {\Bbb U}_{I}= {\Bbb U}_{J}: {\sf type}}{
\begin{stack}
\Gamma \vdash I= J: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt univFormUniv}]{\Gamma \vdash {\Bbb U}_{J}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,({\sf lsucc}\,J)\,I
\end{stack}}
\]

\[
\infer[{\tt univFormUnivSucc}]{\Gamma \vdash {\Bbb U}_{I}: {\Bbb U}_{{\sf lsucc}\,I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt univEqUniv}]{\Gamma \vdash {\Bbb U}_{J}= {\Bbb U}_{K}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash J= K: {\sf level}
\\
\Gamma \vdash {\sf lleq}\,({\sf lsucc}\,J)\,I
\end{stack}}
\]

\[
\infer[{\tt univCumulativeOf}]{\Gamma \vdash A: {\Bbb U}_{J}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash {\sf lleq}\,I\,J
\end{stack}}
\]

\[
\infer[{\tt univCumulativeEq}]{\Gamma \vdash A= B: {\Bbb U}_{J}}{
\begin{stack}
\Gamma \vdash A= B: {\Bbb U}_{I}
\\
\Gamma \vdash {\sf lleq}\,I\,J
\end{stack}}
\]

\[
\infer[{\tt univCumulativeSuccOf}]{\Gamma \vdash A: {\Bbb U}_{{\sf lsucc}\,I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt univSub}]{\Gamma \vdash {\sf subtype}\,{\Bbb U}_{I}\,{\Bbb U}_{J}}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,I\,J
\end{stack}}
\]

\[
\infer[{\tt univForgetOf}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt univForgetEq}]{\Gamma \vdash A= B: {\sf type}}{
\begin{stack}
\Gamma \vdash A= B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt univIntroEqtype}]{\Gamma \vdash A= B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt univFormInv}]{\Gamma \vdash I: {\sf level}}{
\begin{stack}
\Gamma \vdash {\Bbb U}_{I}: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt kindForm}]{\Gamma \vdash {\Bbb K}_{I}: {\sf type}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt kindEq}]{\Gamma \vdash {\Bbb K}_{I}= {\Bbb K}_{J}: {\sf type}}{
\begin{stack}
\Gamma \vdash I= J: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt kindFormUniv}]{\Gamma \vdash {\Bbb K}_{I}: {\Bbb U}_{K}}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,({\sf lsucc}\,({\sf lsucc}\,I))\,K
\end{stack}}
\]

\[
\infer[{\tt kindEqUniv}]{\Gamma \vdash {\Bbb K}_{I}= {\Bbb K}_{J}: {\Bbb U}_{K}}{
\begin{stack}
\Gamma \vdash I= J: {\sf level}
\\
\Gamma \vdash {\sf lleq}\,({\sf lsucc}\,({\sf lsucc}\,I))\,K
\end{stack}}
\]

\[
\infer[{\tt kindForgetOf}]{\Gamma \vdash A: {\Bbb U}_{{\sf lsucc}\,I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt kindForgetEq}]{\Gamma \vdash A= B: {\Bbb U}_{{\sf lsucc}\,I}}{
\begin{stack}
\Gamma \vdash A= B: {\Bbb K}_{I}
\end{stack}}
\]

\[
\infer[{\tt kindUnivSub}]{\Gamma \vdash {\sf subtype}\,{\Bbb K}_{I}\,{\Bbb U}_{J}}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,({\sf lsucc}\,I)\,J
\end{stack}}
\]

\[
\infer[{\tt levelForm}]{\Gamma \vdash {\sf level}: {\sf type}}{}
\]

\[
\infer[{\tt levelEq}]{\Gamma \vdash {\sf level}= {\sf level}: {\sf type}}{}
\]

\[
\infer[{\tt levelFormUniv}]{\Gamma \vdash {\sf level}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt levelEqUniv}]{\Gamma \vdash {\sf level}= {\sf level}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqForm}]{\Gamma \vdash {\sf lleq}\,I\,J: {\sf type}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma \vdash J: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqEq}]{\Gamma \vdash {\sf lleq}\,I\,J= {\sf lleq}\,I'\,J': {\sf type}}{
\begin{stack}
\Gamma \vdash I= I': {\sf level}
\\
\Gamma \vdash J= J': {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqFormUniv}]{\Gamma \vdash {\sf lleq}\,I\,J: {\Bbb U}_{K}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\\
\Gamma \vdash J: {\sf level}
\\
\Gamma \vdash K: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqEqUniv}]{\Gamma \vdash {\sf lleq}\,I\,J= {\sf lleq}\,I'\,J': {\Bbb U}_{K}}{
\begin{stack}
\Gamma \vdash I= I': {\sf level}
\\
\Gamma \vdash J= J': {\sf level}
\\
\Gamma \vdash K: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lzeroLevel}]{\Gamma \vdash {\sf lzero}: {\sf level}}{}
\]

\[
\infer[{\tt lsuccLevel}]{\Gamma \vdash {\sf lsucc}\,M: {\sf level}}{
\begin{stack}
\Gamma \vdash M: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lsuccEq}]{\Gamma \vdash {\sf lsucc}\,M= {\sf lsucc}\,N: {\sf level}}{
\begin{stack}
\Gamma \vdash M= N: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lmaxLevel}]{\Gamma \vdash {\sf lmax}\,M\,N: {\sf level}}{
\begin{stack}
\Gamma \vdash M: {\sf level}
\\
\Gamma \vdash N: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lmaxEq}]{\Gamma \vdash {\sf lmax}\,M\,N= {\sf lmax}\,M'\,N': {\sf level}}{
\begin{stack}
\Gamma \vdash M= M': {\sf level}
\\
\Gamma \vdash N= N': {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqRefl}]{\Gamma \vdash {\sf lleq}\,M\,M}{
\begin{stack}
\Gamma \vdash M: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqTrans}]{\Gamma \vdash {\sf lleq}\,M\,P}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,M\,N
\\
\Gamma \vdash {\sf lleq}\,N\,P
\end{stack}}
\]

\[
\infer[{\tt lleqZero}]{\Gamma \vdash {\sf lleq}\,{\sf lzero}\,M}{
\begin{stack}
\Gamma \vdash M: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqSucc}]{\Gamma \vdash {\sf lleq}\,({\sf lsucc}\,M)\,({\sf lsucc}\,N)}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,M\,N
\end{stack}}
\]

\[
\infer[{\tt lleqIncrease}]{\Gamma \vdash {\sf lleq}\,M\,({\sf lsucc}\,N)}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,M\,N
\end{stack}}
\]

\[
\infer[{\tt lleqMaxL}]{\Gamma \vdash {\sf lleq}\,({\sf lmax}\,M\,N)\,P}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,M\,P
\\
\Gamma \vdash {\sf lleq}\,N\,P
\end{stack}}
\]

\[
\infer[{\tt lleqMaxR1}]{\Gamma \vdash {\sf lleq}\,M\,({\sf lmax}\,N\,P)}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,M\,N
\\
\Gamma \vdash P: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqMaxR2}]{\Gamma \vdash {\sf lleq}\,M\,({\sf lmax}\,N\,P)}{
\begin{stack}
\Gamma \vdash {\sf lleq}\,M\,P
\\
\Gamma \vdash N: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lleqResp}]{\Gamma \vdash {\sf lleq}\,M\,N}{
\begin{stack}
\Gamma \vdash M'= M: {\sf level}
\\
\Gamma \vdash N'= N: {\sf level}
\\
\Gamma \vdash {\sf lleq}\,M'\,N'
\end{stack}}
\]

\[
\infer[{\tt lsuccMaxDistTrans}]{\Gamma \vdash M= {\sf lsucc}\,({\sf lmax}\,N\,P): {\sf level}}{
\begin{stack}
\Gamma \vdash M= {\sf lmax}\,({\sf lsucc}\,N)\,({\sf lsucc}\,P): {\sf level}
\end{stack}}
\]

\[
\infer[{\tt lzeroType}]{\Gamma \vdash {\sf lzero}: {\sf level}}{}
\]

\[
\infer[{\tt lsuccType}]{\Gamma \vdash {\sf lsucc}: {\sf arrow}\,{\sf level}\,{\sf level}}{}
\]

\[
\infer[{\tt lmaxType}]{\Gamma \vdash {\sf lmax}: {\sf arrow}\,{\sf level}\,({\sf arrow}\,{\sf level}\,{\sf level})}{}
\]

\[
\infer[{\tt eqForm}]{\Gamma \vdash (M= P: A): {\sf type}}{
\begin{stack}
\Gamma \vdash M: A
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt eqEq}]{\Gamma \vdash (M= P: A)= (N= Q: B): {\sf type}}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash M= N: A
\\
\Gamma \vdash P= Q: A
\end{stack}}
\]

\[
\infer[{\tt eqFormUniv}]{\Gamma \vdash (M= P: A): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash P: A
\end{stack}}
\]

\[
\infer[{\tt eqEqUniv}]{\Gamma \vdash (M= P: A)= (N= Q: B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= B: {\Bbb U}_{I}
\\
\Gamma \vdash M= N: A
\\
\Gamma \vdash P= Q: A
\end{stack}}
\]

\[
\infer[{\tt eqIntro}]{\Gamma \vdash \star : (M= N: A)}{
\begin{stack}
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt eqElim}]{\Gamma \vdash M= N: A}{
\begin{stack}
\Gamma \vdash P: (M= N: A)
\end{stack}}
\]

\[
\infer[{\tt eqTrivialize}]{\Gamma \vdash M= N: A}{
\begin{stack}
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt eqExt}]{\Gamma \vdash P= Q: (M= N: A)}{
\begin{stack}
\Gamma \vdash P: (M= N: A)
\\
\Gamma \vdash Q: (M= N: A)
\end{stack}}
\]

\[
\infer[{\tt eqLeft}]{\Gamma_1 ,(P= Q: A), \Gamma_2 \vdash B\:{\sf ext}\:M[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 , \Gamma_2[\star \,.\,{\sf id}]\vdash B[{\sf under}(\star \,.\,{\sf id})]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt eqRefl}]{\Gamma \vdash M= M: A}{
\begin{stack}
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt eqSymm}]{\Gamma \vdash M= N: A}{
\begin{stack}
\Gamma \vdash N= M: A
\end{stack}}
\]

\[
\infer[{\tt eqTrans}]{\Gamma \vdash M= P: A}{
\begin{stack}
\Gamma \vdash M= N: A
\\
\Gamma \vdash N= P: A
\end{stack}}
\]

\[
\infer[{\tt eqFormInv1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash (M= N: A): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt eqFormInv2}]{\Gamma \vdash M: A}{
\begin{stack}
\Gamma \vdash (M= N: A): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt eqFormInv3}]{\Gamma \vdash N: A}{
\begin{stack}
\Gamma \vdash (M= N: A): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt ofForm}]{\Gamma \vdash (M: A): {\sf type}}{
\begin{stack}
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt ofEq}]{\Gamma \vdash (M: A)= (N: B): {\sf type}}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt ofFormUniv}]{\Gamma \vdash (M: A): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt ofEqUniv}]{\Gamma \vdash (M: A)= (N: B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= B: {\Bbb U}_{I}
\\
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt ofIntro}]{\Gamma \vdash \star : (M: A)}{
\begin{stack}
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt ofElim}]{\Gamma \vdash M: A}{
\begin{stack}
\Gamma \vdash P: (M: A)
\end{stack}}
\]

\[
\infer[{\tt ofTrivialize}]{\Gamma \vdash M: A}{
\begin{stack}
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt ofExt}]{\Gamma \vdash P= Q: (M: A)}{
\begin{stack}
\Gamma \vdash P: (M: A)
\\
\Gamma \vdash Q: (M: A)
\end{stack}}
\]

\[
\infer[{\tt ofLeft}]{\Gamma_1 ,(P: A), \Gamma_2 \vdash B\:{\sf ext}\:M[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 , \Gamma_2[\star \,.\,{\sf id}]\vdash B[{\sf under}(\star \,.\,{\sf id})]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt ofEquand1}]{\Gamma \vdash M: A}{
\begin{stack}
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt ofEquand2}]{\Gamma \vdash N: A}{
\begin{stack}
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt eqtpForm}]{\Gamma \vdash (A= B: {\sf type}): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt eqtpEq}]{\Gamma \vdash (A= C: {\sf type})= (B= D: {\sf type}): {\sf type}}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash C= D: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt eqtpFormUniv}]{\Gamma \vdash (A= B: {\sf type}): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt eqtpEqUniv}]{\Gamma \vdash (A= C: {\sf type})= (B= D: {\sf type}): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= B: {\Bbb U}_{I}
\\
\Gamma \vdash C= D: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt eqtpIntro}]{\Gamma \vdash \star : (A= B: {\sf type})}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt eqtpElim}]{\Gamma \vdash A= B: {\sf type}}{
\begin{stack}
\Gamma \vdash P: (A= B: {\sf type})
\end{stack}}
\]

\[
\infer[{\tt eqtpExt}]{\Gamma \vdash P= Q: (A= B: {\sf type})}{
\begin{stack}
\Gamma \vdash P: (A= B: {\sf type})
\\
\Gamma \vdash Q: (A= B: {\sf type})
\end{stack}}
\]

\[
\infer[{\tt eqtpLeft}]{\Gamma_1 ,(A= B: {\sf type}), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 , \Gamma_2[\star \,.\,{\sf id}]\vdash C[{\sf under}(\star \,.\,{\sf id})]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt eqtpFunct}]{\Gamma \vdash B[M\,.\,{\sf id}]= B[N\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt equivalenceOf}]{\Gamma \vdash M: B}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt equivalenceEq}]{\Gamma \vdash M= N: B}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt equivalence}]{\Gamma \vdash B\:{\sf ext}\:M}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash A\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt equivalenceLeft}]{\Gamma_1 ,A, \Gamma_2 \vdash C\:{\sf ext}\:M}{
\begin{stack}
\Gamma_1 ,(A: {\sf type})\vdash A[\uparrow ]= B[\uparrow ]: {\sf type}
\\
\Gamma_1 ,B, \Gamma_2\vdash C\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt eqtpRefl}]{\Gamma \vdash A= A: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt eqtpSymm}]{\Gamma \vdash A= B: {\sf type}}{
\begin{stack}
\Gamma \vdash B= A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt eqtpTrans}]{\Gamma \vdash A= C: {\sf type}}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash B= C: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt istpForm}]{\Gamma \vdash (A: {\sf type}): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt istpEq}]{\Gamma \vdash (A: {\sf type})= (B: {\sf type}): {\sf type}}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt istpFormUniv}]{\Gamma \vdash (A: {\sf type}): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt istpEqUniv}]{\Gamma \vdash (A: {\sf type})= (B: {\sf type}): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt istpIntro}]{\Gamma \vdash \star : (A: {\sf type})}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt istpElim}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash P: (A: {\sf type})
\end{stack}}
\]

\[
\infer[{\tt istpExt}]{\Gamma \vdash P= Q: (A: {\sf type})}{
\begin{stack}
\Gamma \vdash P: (A: {\sf type})
\\
\Gamma \vdash Q: (A: {\sf type})
\end{stack}}
\]

\[
\infer[{\tt istpLeft}]{\Gamma_1 ,(A: {\sf type}), \Gamma_2 \vdash B\:{\sf ext}\:M[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 , \Gamma_2[\star \,.\,{\sf id}]\vdash B[{\sf under}(\star \,.\,{\sf id})]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt inhabitedForm}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash A
\end{stack}}
\]

\[
\infer[{\tt subtypeForm}]{\Gamma \vdash {\sf subtype}\,A\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt subtypeEq}]{\Gamma \vdash {\sf subtype}\,A\,C= {\sf subtype}\,B\,D: {\sf type}}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\\
\Gamma \vdash C= D: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt subtypeFormUniv}]{\Gamma \vdash {\sf subtype}\,A\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt subtypeEqUniv}]{\Gamma \vdash {\sf subtype}\,A\,C= {\sf subtype}\,B\,D: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= B: {\Bbb U}_{I}
\\
\Gamma \vdash C= D: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt subtypeIntro}]{\Gamma \vdash \star : {\sf subtype}\,A\,B}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt subtypeElim}]{\Gamma \vdash {\sf subtype}\,A\,B}{
\begin{stack}
\Gamma \vdash P: {\sf subtype}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt subtypeExt}]{\Gamma \vdash P= Q: {\sf subtype}\,A\,B}{
\begin{stack}
\Gamma \vdash P: {\sf subtype}\,A\,B
\\
\Gamma \vdash Q: {\sf subtype}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt subtypeLeft}]{\Gamma_1 ,({\sf subtype}\,A\,B), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 , \Gamma_2[\star \,.\,{\sf id}]\vdash C[{\sf under}(\star \,.\,{\sf id})]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt subtypeEstablish}]{\Gamma \vdash {\sf subtype}\,A\,B}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A\vdash 0: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt subsumptionOf}]{\Gamma \vdash M: B}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,B
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt subsumptionEq}]{\Gamma \vdash M= N: B}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,B
\\
\Gamma \vdash M= N: A
\end{stack}}
\]

\[
\infer[{\tt subsumption}]{\Gamma \vdash B\:{\sf ext}\:M}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,B
\\
\Gamma \vdash A\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt subsumptionLeft}]{\Gamma_1 ,A, \Gamma_2 \vdash C\:{\sf ext}\:M}{
\begin{stack}
\Gamma_1 ,(A: {\sf type})\vdash {\sf eeqtp}\,A[\uparrow ]\,B[\uparrow ]
\\
\Gamma_1 ,B, \Gamma_2\vdash C\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt subtypeRefl}]{\Gamma \vdash {\sf subtype}\,A\,A}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt subtypeReflEqtype}]{\Gamma \vdash {\sf subtype}\,A\,B}{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt subtypeTrans}]{\Gamma \vdash {\sf subtype}\,A\,C}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,B
\\
\Gamma \vdash {\sf subtype}\,B\,C
\end{stack}}
\]

\[
\infer[{\tt subtypeIstp1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt subtypeIstp2}]{\Gamma \vdash B: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt setForm}]{\Gamma \vdash {\sf set}\,A\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt setEq}]{\Gamma \vdash {\sf set}\,A\,(\lambda .\,B)= {\sf set}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma ,A\vdash B': {\sf type}
\\
\Gamma ,A,B\vdash B'[\uparrow ]
\\
\Gamma ,A,B'\vdash B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt setFormUniv}]{\Gamma \vdash {\sf set}\,A\,(\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt setEqUniv}]{\Gamma \vdash {\sf set}\,A\,(\lambda .\,B)= {\sf set}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B: {\Bbb U}_{I[\uparrow ]}
\\
\Gamma ,A\vdash B': {\Bbb U}_{I[\uparrow ]}
\\
\Gamma ,A,B\vdash B'[\uparrow ]
\\
\Gamma ,A,B'\vdash B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt setWeakenOf}]{\Gamma \vdash M: A}{
\begin{stack}
\Gamma \vdash M: {\sf set}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt setWeakenEq}]{\Gamma \vdash M= N: A}{
\begin{stack}
\Gamma \vdash M= N: {\sf set}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt setWeaken}]{\Gamma \vdash A\:{\sf ext}\:M}{
\begin{stack}
\Gamma \vdash {\sf set}\,A\,(\lambda .\,B)\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt setIntroOf}]{\Gamma \vdash M: {\sf set}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt setIntroEq}]{\Gamma \vdash M= N: {\sf set}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M= N: A
\\
\Gamma \vdash B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt setIntro}]{\Gamma \vdash {\sf set}\,A\,(\lambda .\,B)\:{\sf ext}\:M}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt setIntroOfSquash}]{\Gamma \vdash M: {\sf set}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash {\sf squash}\,B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt squashIntroOfSquash}]{\Gamma \vdash \star : {\sf squash}\,A}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash {\sf squash}\,A
\end{stack}}
\]

\[
\infer[{\tt setElim}]{\Gamma \vdash C\:{\sf ext}\:N[\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: {\sf set}\,A\,(\lambda .\,B)
\\
\Gamma ,[B[M\,.\,{\sf id}]]\vdash C[\uparrow ]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt setLeft}]{\Gamma_1 ,({\sf set}\,A\,(\lambda .\,B)), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(\star \,.\,{\sf id})]}{
\begin{stack}
\Gamma_1 ,A\vdash B: {\sf type}
\\
\Gamma_1 ,A,[B], \Gamma_2[\uparrow ]\vdash C[{\sf under}(\uparrow )]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt setSquash}]{\Gamma \vdash {\sf set}\,A\,(\lambda .\,B)= {\sf set}\,A\,(\lambda .\,{\sf squash}\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf set}\,A\,(\lambda .\,B): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt setFormInv}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf set}\,A\,(\lambda .\,B): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt setSubElim}]{\Gamma \vdash {\sf subtype}\,({\sf set}\,A\,(\lambda .\,B))\,A'}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,A'
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt isetForm}]{\Gamma \vdash {\sf iset}\,A\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt isetEq}]{\Gamma \vdash {\sf iset}\,A\,(\lambda .\,B)= {\sf iset}\,A'\,(\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A\vdash B= B': {\sf type}
\end{stack}}
\]

\[
\infer[{\tt isetFormUniv}]{\Gamma \vdash {\sf iset}\,A\,(\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B: {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt isetEqUniv}]{\Gamma \vdash {\sf iset}\,A\,(\lambda .\,B)= {\sf iset}\,A'\,(\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A\vdash B= B': {\Bbb U}_{I[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt isetWeakenOf}]{\Gamma \vdash M: A}{
\begin{stack}
\Gamma \vdash M: {\sf iset}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt isetWeakenEq}]{\Gamma \vdash M= N: A}{
\begin{stack}
\Gamma \vdash M= N: {\sf iset}\,A\,(\lambda .\,B)
\end{stack}}
\]

\[
\infer[{\tt isetWeaken}]{\Gamma \vdash A\:{\sf ext}\:M}{
\begin{stack}
\Gamma \vdash {\sf iset}\,A\,(\lambda .\,B)\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt isetIntroOf}]{\Gamma \vdash M: {\sf iset}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt isetIntroEq}]{\Gamma \vdash M= N: {\sf iset}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M= N: A
\\
\Gamma \vdash B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt isetIntro}]{\Gamma \vdash {\sf iset}\,A\,(\lambda .\,B)\:{\sf ext}\:M}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt isetIntroOfSquash}]{\Gamma \vdash M: {\sf iset}\,A\,(\lambda .\,B)}{
\begin{stack}
\Gamma ,A\vdash B: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash {\sf squash}\,B[M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt isetElim}]{\Gamma \vdash C\:{\sf ext}\:N[\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: {\sf iset}\,A\,(\lambda .\,B)
\\
\Gamma ,[B[M\,.\,{\sf id}]]\vdash C[\uparrow ]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt isetLeft}]{\Gamma_1 ,({\sf iset}\,A\,(\lambda .\,B)), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(\star \,.\,{\sf id})]}{
\begin{stack}
\Gamma_1 ,A,[B], \Gamma_2[\uparrow ]\vdash C[{\sf under}(\uparrow )]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt isetFormInv1}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf iset}\,A\,(\lambda .\,B): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt isetFormInv2}]{\Gamma \vdash B[M\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf iset}\,A\,(\lambda .\,B): {\sf type}
\\
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt isetSubElim}]{\Gamma \vdash {\sf subtype}\,({\sf iset}\,A\,(\lambda .\,B))\,A'}{
\begin{stack}
\Gamma \vdash {\sf subtype}\,A\,A'
\\
\Gamma ,A\vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt squashForm}]{\Gamma \vdash {\sf squash}\,A: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt squashEq}]{\Gamma \vdash {\sf squash}\,A= {\sf squash}\,B: {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma \vdash B: {\sf type}
\\
\Gamma ,A\vdash B[\uparrow ]
\\
\Gamma ,B\vdash A[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt squashFormUniv}]{\Gamma \vdash {\sf squash}\,A: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\end{stack}}
\]

\[
\infer[{\tt squashEqUniv}]{\Gamma \vdash {\sf squash}\,A= {\sf squash}\,B: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash B: {\Bbb U}_{I}
\\
\Gamma ,A\vdash B[\uparrow ]
\\
\Gamma ,B\vdash A[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt squashIntroOf}]{\Gamma \vdash \star : {\sf squash}\,A}{
\begin{stack}
\Gamma \vdash A
\end{stack}}
\]

\[
\infer[{\tt squashIntro}]{\Gamma \vdash {\sf squash}\,A}{
\begin{stack}
\Gamma \vdash A
\end{stack}}
\]

\[
\infer[{\tt squashElim}]{\Gamma \vdash C\:{\sf ext}\:N[\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: {\sf squash}\,A
\\
\Gamma \vdash A: {\sf type}
\\
\Gamma ,[A]\vdash C[\uparrow ]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt squashExt}]{\Gamma \vdash M= N: {\sf squash}\,A}{
\begin{stack}
\Gamma \vdash M: {\sf squash}\,A
\\
\Gamma \vdash N: {\sf squash}\,A
\\
\Gamma \vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt squashLeft}]{\Gamma_1 ,({\sf squash}\,A), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(\star \,.\,\uparrow )]}{
\begin{stack}
\Gamma_1 \vdash A: {\sf type}
\\
\Gamma_1 ,[A], \Gamma_2[\star \,.\,\uparrow ]\vdash C[{\sf under}(\star \,.\,\uparrow )]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt squashSub}]{\Gamma \vdash {\sf subtype}\,({\sf squash}\,A)\,({\sf squash}\,B)}{
\begin{stack}
\Gamma \vdash B: {\sf type}
\\
\Gamma \vdash {\sf arrow}\,A\,B
\end{stack}}
\]

\[
\infer[{\tt quotientForm}]{\Gamma \vdash {\sf quotient}\,A\,(\lambda .\,\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash A: {\sf type}
\\
\Gamma ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma ,A,A[\uparrow ],B\vdash B[2\,.\,1\,.\,\uparrow^3]
\\
\Gamma ,A,A[\uparrow ],A[\uparrow^2],B[\uparrow ],B[1\,.\,2\,.\,\uparrow^4]\vdash B[2\,.\,\uparrow^4]
\end{stack}}
\]

\[
\infer[{\tt quotientEq}]{\Gamma \vdash {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)= {\sf quotient}\,A'\,(\lambda .\,\lambda .\,B'): {\sf type}}{
\begin{stack}
\Gamma \vdash A= A': {\sf type}
\\
\Gamma ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma ,A,A[\uparrow ]\vdash B': {\sf type}
\\
\Gamma ,A,A[\uparrow ],B\vdash B'[\uparrow ]
\\
\Gamma ,A,A[\uparrow ],B'\vdash B[\uparrow ]
\\
\Gamma ,A,A[\uparrow ],B\vdash B[2\,.\,1\,.\,\uparrow^3]
\\
\Gamma ,A,A[\uparrow ],A[\uparrow^2],B[\uparrow ],B[1\,.\,2\,.\,\uparrow^4]\vdash B[2\,.\,\uparrow^4]
\end{stack}}
\]

\[
\infer[{\tt quotientFormUniv}]{\Gamma \vdash {\sf quotient}\,A\,(\lambda .\,\lambda .\,B): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma ,A,A[\uparrow ]\vdash B: {\Bbb U}_{I[\uparrow^2]}
\\
\Gamma ,A,A[\uparrow ],B\vdash B[2\,.\,1\,.\,\uparrow^3]
\\
\Gamma ,A,A[\uparrow ],A[\uparrow^2],B[\uparrow ],B[1\,.\,2\,.\,\uparrow^4]\vdash B[2\,.\,\uparrow^4]
\end{stack}}
\]

\[
\infer[{\tt quotientEqUniv}]{\Gamma \vdash {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)= {\sf quotient}\,A'\,(\lambda .\,\lambda .\,B'): {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash A= A': {\Bbb U}_{I}
\\
\Gamma ,A,A[\uparrow ]\vdash B: {\Bbb U}_{I[\uparrow^2]}
\\
\Gamma ,A,A[\uparrow ]\vdash B': {\Bbb U}_{I[\uparrow^2]}
\\
\Gamma ,A,A[\uparrow ],B\vdash B'[\uparrow ]
\\
\Gamma ,A,A[\uparrow ],B'\vdash B[\uparrow ]
\\
\Gamma ,A,A[\uparrow ],B\vdash B[2\,.\,1\,.\,\uparrow^3]
\\
\Gamma ,A,A[\uparrow ],A[\uparrow^2],B[\uparrow ],B[1\,.\,2\,.\,\uparrow^4]\vdash B[2\,.\,\uparrow^4]
\end{stack}}
\]

\[
\infer[{\tt quotientIntroOf}]{\Gamma \vdash M: {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)}{
\begin{stack}
\Gamma \vdash {\sf quotient}\,A\,(\lambda .\,\lambda .\,B): {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash B[M\,.\,M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt quotientIntroEq}]{\Gamma \vdash M= N: {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)}{
\begin{stack}
\Gamma \vdash {\sf quotient}\,A\,(\lambda .\,\lambda .\,B): {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash N: A
\\
\Gamma \vdash B[N\,.\,M\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt quotientElimOf}]{\Gamma \vdash P[M\,.\,{\sf id}]: C[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)
\\
\Gamma ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B))\vdash C: {\sf type}
\\
\Gamma ,A,A[\uparrow ],B\vdash P[\uparrow^2]= P[1\,.\,\uparrow^3]: C[\uparrow^2]
\end{stack}}
\]

\[
\infer[{\tt quotientElimEq}]{\Gamma \vdash P[M\,.\,{\sf id}]= Q[N\,.\,{\sf id}]: C[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M= N: {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)
\\
\Gamma ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B))\vdash C: {\sf type}
\\
\Gamma ,A,A[\uparrow ],B\vdash P[\uparrow^2]= Q[1\,.\,\uparrow^3]: C[\uparrow^2]
\end{stack}}
\]

\[
\infer[{\tt quotientElimIstype}]{\Gamma \vdash C[M\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash M: {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)
\\
\Gamma ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma ,A,A[\uparrow ],B\vdash C[\uparrow^2]= C[1\,.\,\uparrow^3]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt quotientElimEqtype}]{\Gamma \vdash C[M\,.\,{\sf id}]= D[N\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash M= N: {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)
\\
\Gamma ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma ,A,A[\uparrow ],B\vdash C[\uparrow^2]= D[1\,.\,\uparrow^3]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt quotientDescent}]{\Gamma \vdash C\:{\sf ext}\:P[\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma \vdash C: {\sf type}
\\
\Gamma \vdash M: A
\\
\Gamma \vdash N: A
\\
\Gamma \vdash M= N: {\sf quotient}\,A\,(\lambda .\,\lambda .\,B)
\\
\Gamma ,[B[N\,.\,M\,.\,{\sf id}]]\vdash C[\uparrow ]\:{\sf ext}\:P
\end{stack}}
\]

\[
\infer[{\tt quotientLeft}]{\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(\star \,.\,\uparrow )]}{
\begin{stack}
\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2\vdash C: {\sf type}
\\
\Gamma_1 ,[A], \Gamma_2\vdash C\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt quotientLeftRefl}]{\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2 \vdash C\:{\sf ext}\:M[{\sf under}(\star \,.\,\star \,.\,\uparrow )]}{
\begin{stack}
\Gamma_1 ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2\vdash C: {\sf type}
\\
\Gamma_1 ,[A],[B[0\,.\,{\sf id}]], \Gamma_2[\uparrow ]\vdash C[{\sf under}(\uparrow )]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt quotientLeftIstype}]{\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2 \vdash C: {\sf type}}{
\begin{stack}
\Gamma_1 ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma_1 ,A,A[\uparrow ],B, \Gamma_2[\uparrow^2]\vdash C[{\sf under}(\uparrow^2)]= C[{\sf under}(1\,.\,\uparrow^3)]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt quotientLeftEqtype}]{\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2 \vdash C= D: {\sf type}}{
\begin{stack}
\Gamma_1 ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma_1 ,A,A[\uparrow ],B, \Gamma_2[\uparrow^2]\vdash C[{\sf under}(\uparrow^2)]= D[{\sf under}(1\,.\,\uparrow^3)]: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt quotientLeftOf}]{\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2 \vdash M: C[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma_1 ,A,A[\uparrow ],B, \Gamma_2[\uparrow^2]\vdash M[{\sf under}(\uparrow^2)]= M[{\sf under}(1\,.\,\uparrow^3)]: C[{\sf under}(\uparrow^3)]
\end{stack}}
\]

\[
\infer[{\tt quotientLeftEq}]{\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2 \vdash M= N: C[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma_1 ,A,A[\uparrow ],B, \Gamma_2[\uparrow^2]\vdash M[{\sf under}(\uparrow^2)]= N[{\sf under}(1\,.\,\uparrow^3)]: C[{\sf under}(\uparrow^3)]
\end{stack}}
\]

\[
\infer[{\tt quotientLeftOfDep}]{\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2 \vdash M: C}{
\begin{stack}
\Gamma_1 ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma_1 ,A,A[\uparrow ],B, \Gamma_2[\uparrow^2]\vdash C[{\sf under}(\uparrow^2)]= C[{\sf under}(1\,.\,\uparrow^3)]: {\sf type}
\\
\Gamma_1 ,A,A[\uparrow ],B, \Gamma_2[\uparrow^2]\vdash M[{\sf under}(\uparrow^2)]= M[{\sf under}(1\,.\,\uparrow^3)]: C[{\sf under}(\uparrow^2)]
\end{stack}}
\]

\[
\infer[{\tt quotientLeftEqDep}]{\Gamma_1 ,({\sf quotient}\,A\,(\lambda .\,\lambda .\,B)), \Gamma_2 \vdash M= N: C}{
\begin{stack}
\Gamma_1 ,A,A[\uparrow ]\vdash B: {\sf type}
\\
\Gamma_1 ,A,A[\uparrow ],B, \Gamma_2[\uparrow^2]\vdash C[{\sf under}(\uparrow^2)]= C[{\sf under}(1\,.\,\uparrow^3)]: {\sf type}
\\
\Gamma_1 ,A,A[\uparrow ],B, \Gamma_2[\uparrow^2]\vdash M[{\sf under}(\uparrow^2)]= N[{\sf under}(1\,.\,\uparrow^3)]: C[{\sf under}(\uparrow^2)]
\end{stack}}
\]

\[
\infer[{\tt quotientFormInv}]{\Gamma \vdash A: {\sf type}}{
\begin{stack}
\Gamma \vdash {\sf quotient}\,A\,(\lambda .\,\lambda .\,B): {\sf type}
\end{stack}}
\]

\[
\infer[{\tt iforallForm}]{\Gamma \vdash {\sf iforall}\,I\,K\,(\lambda .\,A): {\sf type}}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma ,K\vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt iforallEq}]{\Gamma \vdash {\sf iforall}\,I\,K\,(\lambda .\,A)= {\sf iforall}\,I\,L\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash K= L: {\Bbb K}_{I}
\\
\Gamma ,K\vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt iforallFormUniv}]{\Gamma \vdash {\sf iforall}\,I\,K\,(\lambda .\,A): {\Bbb U}_{J}}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma \vdash {\sf lleq}\,I\,J
\\
\Gamma ,K\vdash A: {\Bbb U}_{J[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt iforallEqUniv}]{\Gamma \vdash {\sf iforall}\,I\,K\,(\lambda .\,A)= {\sf iforall}\,I\,L\,(\lambda .\,B): {\Bbb U}_{J}}{
\begin{stack}
\Gamma \vdash K= L: {\Bbb K}_{I}
\\
\Gamma \vdash {\sf lleq}\,I\,J
\\
\Gamma ,K\vdash A= B: {\Bbb U}_{J[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt iforallIntroOf}]{\Gamma \vdash M: {\sf iforall}\,I\,K\,(\lambda .\,A)}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma ,K\vdash M[\uparrow ]: A
\end{stack}}
\]

\[
\infer[{\tt iforallIntroEq}]{\Gamma \vdash M= N: {\sf iforall}\,I\,K\,(\lambda .\,A)}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma ,K\vdash M[\uparrow ]= N[\uparrow ]: A
\end{stack}}
\]

\[
\infer[{\tt iforallIntro}]{\Gamma \vdash {\sf iforall}\,I\,K\,(\lambda .\,A)\:{\sf ext}\:M[\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma ,[K]\vdash A\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt iforallElimOf}]{\Gamma \vdash M: A[P\,.\,{\sf id}]}{
\begin{stack}
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf iforall}\,I\,K\,(\lambda .\,A)
\\
\Gamma \vdash P: K
\end{stack}}
\]

\[
\infer[{\tt iforallElimEq}]{\Gamma \vdash M= N: A[P\,.\,{\sf id}]}{
\begin{stack}
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma \vdash M= N: {\sf iforall}\,I\,K\,(\lambda .\,A)
\\
\Gamma \vdash P: K
\end{stack}}
\]

\[
\infer[{\tt iforallElim}]{\Gamma \vdash A[P\,.\,{\sf id}]\:{\sf ext}\:M}{
\begin{stack}
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma \vdash {\sf iforall}\,I\,K\,(\lambda .\,A)\:{\sf ext}\:M
\\
\Gamma \vdash P: K
\end{stack}}
\]

\[
\infer[{\tt foralltpForm}]{\Gamma \vdash {\sf foralltp}\,(\lambda .\,A): {\sf type}}{
\begin{stack}
\Gamma ,{\sf type}\vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt foralltpEq}]{\Gamma \vdash {\sf foralltp}\,(\lambda .\,A)= {\sf foralltp}\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma ,{\sf type}\vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt foralltpIntroOf}]{\Gamma \vdash M: {\sf foralltp}\,(\lambda .\,A)}{
\begin{stack}
\Gamma ,{\sf type}\vdash M[\uparrow ]: A
\end{stack}}
\]

\[
\infer[{\tt foralltpIntroEq}]{\Gamma \vdash M= N: {\sf foralltp}\,(\lambda .\,A)}{
\begin{stack}
\Gamma ,{\sf type}\vdash M[\uparrow ]= N[\uparrow ]: A
\end{stack}}
\]

\[
\infer[{\tt foralltpIntro}]{\Gamma \vdash {\sf foralltp}\,(\lambda .\,A)\:{\sf ext}\:M[\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma ,[{\sf type}]\vdash A\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt foralltpElimOf}]{\Gamma \vdash M: A[B\,.\,{\sf id}]}{
\begin{stack}
\Gamma ,{\sf type}\vdash A: {\sf type}
\\
\Gamma \vdash M: {\sf foralltp}\,(\lambda .\,A)
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt foralltpElimEq}]{\Gamma \vdash M= N: A[B\,.\,{\sf id}]}{
\begin{stack}
\Gamma ,{\sf type}\vdash A: {\sf type}
\\
\Gamma \vdash M= N: {\sf foralltp}\,(\lambda .\,A)
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt foralltpElim}]{\Gamma \vdash A[B\,.\,{\sf id}]\:{\sf ext}\:M}{
\begin{stack}
\Gamma ,{\sf type}\vdash A: {\sf type}
\\
\Gamma \vdash {\sf foralltp}\,(\lambda .\,A)\:{\sf ext}\:M
\\
\Gamma \vdash B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt iexistsForm}]{\Gamma \vdash {\sf iexists}\,I\,K\,(\lambda .\,A): {\sf type}}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma ,K\vdash A: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt iexistsEq}]{\Gamma \vdash {\sf iexists}\,I\,K\,(\lambda .\,A)= {\sf iexists}\,I\,L\,(\lambda .\,B): {\sf type}}{
\begin{stack}
\Gamma \vdash K= L: {\Bbb K}_{I}
\\
\Gamma ,K\vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt iexistsFormUniv}]{\Gamma \vdash {\sf iexists}\,I\,K\,(\lambda .\,A): {\Bbb U}_{J}}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma \vdash {\sf lleq}\,I\,J
\\
\Gamma ,K\vdash A: {\Bbb U}_{J[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt iexistsEqUniv}]{\Gamma \vdash {\sf iexists}\,I\,K\,(\lambda .\,A)= {\sf iexists}\,I\,L\,(\lambda .\,B): {\Bbb U}_{J}}{
\begin{stack}
\Gamma \vdash K= L: {\Bbb K}_{I}
\\
\Gamma \vdash {\sf lleq}\,I\,J
\\
\Gamma ,K\vdash A= B: {\Bbb U}_{J[\uparrow ]}
\end{stack}}
\]

\[
\infer[{\tt iexistsIntroOf}]{\Gamma \vdash M: {\sf iexists}\,I\,K\,(\lambda .\,A)}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma \vdash B: K
\\
\Gamma \vdash M: A[B\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt iexistsIntroEq}]{\Gamma \vdash M= N: {\sf iexists}\,I\,K\,(\lambda .\,A)}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma \vdash B: K
\\
\Gamma \vdash M= N: A[B\,.\,{\sf id}]
\end{stack}}
\]

\[
\infer[{\tt iexistsIntro}]{\Gamma \vdash {\sf iexists}\,I\,K\,(\lambda .\,A)\:{\sf ext}\:M}{
\begin{stack}
\Gamma \vdash K: {\Bbb K}_{I}
\\
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma \vdash B: K
\\
\Gamma \vdash A[B\,.\,{\sf id}]\:{\sf ext}\:M
\end{stack}}
\]

\[
\infer[{\tt iexistsElimOf}]{\Gamma \vdash P[M\,.\,{\sf id}]: B}{
\begin{stack}
\Gamma \vdash K: {\sf type}
\\
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma ,K,A\vdash P[0\,.\,\uparrow^2]: B[\uparrow^2]
\\
\Gamma \vdash M: {\sf iexists}\,I\,K\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt iexistsElimEq}]{\Gamma \vdash P[M\,.\,{\sf id}]= Q[N\,.\,{\sf id}]: B}{
\begin{stack}
\Gamma \vdash K: {\sf type}
\\
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma ,K,A\vdash P[0\,.\,\uparrow^2]= Q[0\,.\,\uparrow^2]: B[\uparrow^2]
\\
\Gamma \vdash M= N: {\sf iexists}\,I\,K\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt iexistsElim}]{\Gamma \vdash B\:{\sf ext}\:P[M\,.\,\star \,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash K: {\sf type}
\\
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma ,[K],A\vdash B[\uparrow^2]\:{\sf ext}\:P
\\
\Gamma \vdash M: {\sf iexists}\,I\,K\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt iexistsElimIstype}]{\Gamma \vdash B[M\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash K: {\sf type}
\\
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma ,K,A\vdash B[0\,.\,\uparrow^2]: {\sf type}
\\
\Gamma \vdash M: {\sf iexists}\,I\,K\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt iexistsElimEqtype}]{\Gamma \vdash B[M\,.\,{\sf id}]= C[N\,.\,{\sf id}]: {\sf type}}{
\begin{stack}
\Gamma \vdash K: {\sf type}
\\
\Gamma ,K\vdash A: {\sf type}
\\
\Gamma ,K,A\vdash B[0\,.\,\uparrow^2]= C[0\,.\,\uparrow^2]: {\sf type}
\\
\Gamma \vdash M= N: {\sf iexists}\,I\,K\,(\lambda .\,A)
\end{stack}}
\]

\[
\infer[{\tt substitution}]{\Gamma_1 ,A, \Gamma_2 \vdash B\:{\sf ext}\:N[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 ,A, \Gamma_2\vdash B: {\sf type}
\\
\Gamma_1 ,A, \Gamma_2\vdash (0+ g)= M[(\uparrow ) \circ \uparrow^g]: A[(\uparrow ) \circ \uparrow^g]
\\
\Gamma_1 , \Gamma_2[M\,.\,{\sf id}]\vdash B[{\sf under}(M\,.\,{\sf id})]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt substitutionSimple}]{\Gamma_1 ,A, \Gamma_2 \vdash B[{\sf under}(\uparrow )]\:{\sf ext}\:N[{\sf under}(\uparrow )]}{
\begin{stack}
\Gamma_1 ,A, \Gamma_2\vdash (0+ g)= M[(\uparrow ) \circ \uparrow^g]: A[(\uparrow ) \circ \uparrow^g]
\\
\Gamma_1 , \Gamma_2[M\,.\,{\sf id}]\vdash B\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt generalize}]{\Gamma \vdash B[M\,.\,{\sf id}]\:{\sf ext}\:N[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash M: A
\\
\Gamma ,A\vdash B\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt assert}]{\Gamma \vdash B\:{\sf ext}\:{\sf let}\,M\,(\lambda .\,N)}{
\begin{stack}
\Gamma \vdash A\:{\sf ext}\:M
\\
\Gamma ,A\vdash B[\uparrow ]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt assert'}]{\Gamma \vdash B\:{\sf ext}\:N[M\,.\,{\sf id}]}{
\begin{stack}
\Gamma \vdash A\:{\sf ext}\:M
\\
\Gamma ,A\vdash B[\uparrow ]\:{\sf ext}\:N
\end{stack}}
\]

\[
\infer[{\tt inhabitant}]{\Gamma \vdash A\:{\sf ext}\:M}{
\begin{stack}
\Gamma \vdash M: A
\end{stack}}
\]

\[
\infer[{\tt letForm}]{\Gamma \vdash {\sf let}\,M\,(\lambda .\,N): B}{
\begin{stack}
\Gamma \vdash M: A
\\
\Gamma ,A\vdash N: B[\uparrow ]
\end{stack}}
\]

\[
\infer[{\tt eeqtpSymm}]{\Gamma \vdash {\sf eeqtp}\,A\,B\:{\sf ext}\:\langle \star ,\star \rangle }{
\begin{stack}
\Gamma \vdash {\sf eeqtp}\,B\,A
\end{stack}}
\]

\[
\infer[{\tt weakenEqtpEeqtp}]{\Gamma \vdash {\sf eeqtp}\,A\,B\:{\sf ext}\:\langle \star ,\star \rangle }{
\begin{stack}
\Gamma \vdash A= B: {\sf type}
\end{stack}}
\]

\[
\infer[{\tt accInd}]{\Gamma \vdash B[M\,.\,{\sf id}]\:{\sf ext}\:{\sf fix}\,(\lambda .\,\lambda .\,P[\lambda .\,\lambda .\,3\,1\,.\,0\,.\,\uparrow^2])\,M}{
\begin{stack}
\Gamma \vdash A: {\Bbb U}_{I}
\\
\Gamma \vdash R: {\sf arrow}\,A\,({\sf arrow}\,A\,{\Bbb U}_{I})
\\
\Gamma ,A,({\sf forall}\,A[\uparrow ]\,(\lambda .\,{\sf arrow}\,(R[\uparrow^2]\,0\,1)\,B[0\,.\,\uparrow^2]))\vdash B[\uparrow ]\:{\sf ext}\:P
\\
\Gamma \vdash M: A
\\
\Gamma \vdash N: {\sf acc}\,A\,R\,M
\end{stack}}
\]

\[
\infer[{\tt integerForm}]{\Gamma \vdash {\sf integer}: {\sf type}}{}
\]

\[
\infer[{\tt integerEq}]{\Gamma \vdash {\sf integer}= {\sf integer}: {\sf type}}{}
\]

\[
\infer[{\tt integerFormUniv}]{\Gamma \vdash {\sf integer}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt integerEqUniv}]{\Gamma \vdash {\sf integer}= {\sf integer}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt integerToDefType}]{\Gamma \vdash {\sf integer_to_Integer}: {\sf arrow}\,{\sf integer}\,{\sf cInteger}}{}
\]

\[
\infer[{\tt integerFromDefType}]{\Gamma \vdash {\sf integer_from_Integer}: {\sf arrow}\,{\sf cInteger}\,{\sf integer}}{}
\]

\[
\infer[{\tt integerIsomorphism1}]{\Gamma \vdash (\lambda .\,{\sf integer_from_Integer}\,({\sf integer_to_Integer}\,0))= (\lambda .\,0): {\sf arrow}\,{\sf integer}\,{\sf integer}}{}
\]

\[
\infer[{\tt integerIsomorphism2}]{\Gamma \vdash (\lambda .\,{\sf integer_to_Integer}\,({\sf integer_from_Integer}\,0))= (\lambda .\,0): {\sf arrow}\,{\sf cInteger}\,{\sf cInteger}}{}
\]

\[
\infer[{\tt pluszSpec}]{\Gamma \vdash {\sf plusz}= (\lambda .\,\lambda .\,{\sf integer_from_Integer}\,({\sf cPlusz}\,({\sf integer_to_Integer}\,1)\,({\sf integer_to_Integer}\,0))): {\sf arrow}\,{\sf integer}\,({\sf arrow}\,{\sf integer}\,{\sf integer})}{}
\]

\[
\infer[{\tt negzSpec}]{\Gamma \vdash {\sf negz}= (\lambda .\,{\sf integer_from_Integer}\,({\sf cNegz}\,({\sf integer_to_Integer}\,0))): {\sf arrow}\,{\sf integer}\,{\sf integer}}{}
\]

\[
\infer[{\tt eqzbSpec}]{\Gamma \vdash {\sf eqzb}= (\lambda .\,\lambda .\,{\sf cEqzb}\,({\sf integer_to_Integer}\,1)\,({\sf integer_to_Integer}\,0)): {\sf arrow}\,{\sf integer}\,({\sf arrow}\,{\sf integer}\,{\sf bool})}{}
\]

\[
\infer[{\tt leqzbSpec}]{\Gamma \vdash {\sf leqzb}= (\lambda .\,\lambda .\,{\sf cLeqzb}\,({\sf integer_to_Integer}\,1)\,({\sf integer_to_Integer}\,0)): {\sf arrow}\,{\sf integer}\,({\sf arrow}\,{\sf integer}\,{\sf bool})}{}
\]

\[
\infer[{\tt timeszSpec}]{\Gamma \vdash {\sf timesz}= (\lambda .\,\lambda .\,{\sf integer_from_Integer}\,({\sf cTimesz}\,({\sf integer_to_Integer}\,1)\,({\sf integer_to_Integer}\,0))): {\sf arrow}\,{\sf integer}\,({\sf arrow}\,{\sf integer}\,{\sf integer})}{}
\]

\[
\infer[{\tt symbolForm}]{\Gamma \vdash {\sf symbol}: {\sf type}}{}
\]

\[
\infer[{\tt symbolEq}]{\Gamma \vdash {\sf symbol}= {\sf symbol}: {\sf type}}{}
\]

\[
\infer[{\tt symbolFormUniv}]{\Gamma \vdash {\sf symbol}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt symbolEqUniv}]{\Gamma \vdash {\sf symbol}= {\sf symbol}: {\Bbb U}_{I}}{
\begin{stack}
\Gamma \vdash I: {\sf level}
\end{stack}}
\]

\[
\infer[{\tt symbol_eqbType}]{\Gamma \vdash {\sf symbol_eqb}: {\sf arrow}\,{\sf symbol}\,({\sf arrow}\,{\sf symbol}\,{\sf bool})}{}
\]

\[
\infer[{\tt symbol_eqbSpec1}]{\Gamma \vdash {\sf symbol_eqb}\,M\,N= {\sf true}: {\sf bool}}{
\begin{stack}
\Gamma \vdash M= N: {\sf symbol}
\end{stack}}
\]

\[
\infer[{\tt symbol_eqbSpec2}]{\Gamma \vdash M= N: {\sf symbol}}{
\begin{stack}
\Gamma \vdash {\sf symbol_eqb}\,M\,N= {\sf true}: {\sf bool}
\end{stack}}
\]

